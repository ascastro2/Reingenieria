{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Documents\\\\GitHub\\\\Reingenieria\\\\pos_parqueamiento_NEW\\\\client\\\\src\\\\pages\\\\Ventas\\\\Ventas.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Typography, Button, Card, CardContent, Grid, Chip, IconButton, Tooltip, Dialog, DialogTitle, DialogContent, DialogActions, TextField, FormControl, InputLabel, Select, MenuItem, Alert, CircularProgress, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TablePagination } from '@mui/material';\nimport { Add as AddIcon, Receipt as ReceiptIcon, Refresh as RefreshIcon, CheckCircle as CheckCircleIcon, Cancel as CancelIcon, Visibility as VisibilityIcon } from '@mui/icons-material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Ventas = () => {\n  _s();\n  const [ventas, setVentas] = useState([]);\n  const [espacios, setEspacios] = useState([]);\n  const [clientes, setClientes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [openFinalizarDialog, setOpenFinalizarDialog] = useState(false);\n  const [openCancelarDialog, setOpenCancelarDialog] = useState(false);\n  const [selectedVenta, setSelectedVenta] = useState(null);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [formData, setFormData] = useState({\n    id_espacio: 0,\n    id_cliente: undefined,\n    placa_vehiculo: '',\n    tipo_vehiculo: 'auto',\n    observaciones: ''\n  });\n  const [finalizarForm, setFinalizarForm] = useState({\n    observaciones_salida: ''\n  });\n  const [cancelarForm, setCancelarForm] = useState({\n    motivo_cancelacion: ''\n  });\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const [ventasResponse, espaciosResponse, clientesResponse] = await Promise.all([axios.get('/api/ventas'), axios.get('/api/espacios/libres'), axios.get('/api/clientes')]);\n      console.log('Ventas recibidas:', ventasResponse.data.data);\n      console.log('Espacios recibidos:', espaciosResponse.data.data);\n      console.log('Clientes recibidos:', clientesResponse.data.data);\n      setVentas(ventasResponse.data.data);\n      setEspacios(espaciosResponse.data.data);\n      setClientes(clientesResponse.data.data);\n    } catch (error) {\n      console.error('Error al cargar datos:', error);\n      setError('Error al cargar los datos');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const handleOpenDialog = () => {\n    setFormData({\n      id_espacio: 0,\n      id_cliente: undefined,\n      placa_vehiculo: '',\n      tipo_vehiculo: 'auto',\n      observaciones: ''\n    });\n    setOpenDialog(true);\n  };\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    setFormData({\n      id_espacio: 0,\n      id_cliente: undefined,\n      placa_vehiculo: '',\n      tipo_vehiculo: 'auto',\n      observaciones: ''\n    });\n  };\n  const handleSubmit = async () => {\n    if (isSubmitting) return;\n    try {\n      if (!formData.id_espacio || !formData.placa_vehiculo.trim()) {\n        setError('Por favor complete todos los campos requeridos');\n        return;\n      }\n      setIsSubmitting(true);\n      await axios.post('/api/ventas', formData);\n      fetchData();\n      handleCloseDialog();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error al crear venta:', error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Error al crear la venta');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const handleFinalizar = async () => {\n    if (!selectedVenta || isSubmitting) return;\n    try {\n      setIsSubmitting(true);\n      await axios.put(`/api/ventas/${selectedVenta.id_venta}/finalizar`, finalizarForm);\n      fetchData();\n      setOpenFinalizarDialog(false);\n      setSelectedVenta(null);\n      setFinalizarForm({\n        observaciones_salida: ''\n      });\n    } catch (error) {\n      var _error$response2;\n      console.error('Error al finalizar venta:', error);\n      if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 429) {\n        setError('Demasiadas peticiones. Por favor espera un momento antes de intentar nuevamente.');\n      } else {\n        var _error$response3, _error$response3$data;\n        setError(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || 'Error al finalizar la venta');\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const handleCancelar = async () => {\n    if (!selectedVenta || isSubmitting) return;\n    try {\n      setIsSubmitting(true);\n      await axios.put(`/api/ventas/${selectedVenta.id_venta}/cancelar`, cancelarForm);\n      fetchData();\n      setOpenCancelarDialog(false);\n      setSelectedVenta(null);\n      setCancelarForm({\n        motivo_cancelacion: ''\n      });\n    } catch (error) {\n      var _error$response4;\n      console.error('Error al cancelar venta:', error);\n      if (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status) === 429) {\n        setError('Demasiadas peticiones. Por favor espera un momento antes de intentar nuevamente.');\n      } else {\n        var _error$response5, _error$response5$data;\n        setError(((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.error) || 'Error al cancelar la venta');\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const openFinalizarVenta = venta => {\n    if (!venta || !venta.id_venta) {\n      console.error('Venta inválida para finalizar:', venta);\n      return;\n    }\n    setSelectedVenta(venta);\n    setOpenFinalizarDialog(true);\n  };\n  const openCancelarVenta = venta => {\n    if (!venta || !venta.id_venta) {\n      console.error('Venta inválida para cancelar:', venta);\n      return;\n    }\n    setSelectedVenta(venta);\n    setOpenCancelarDialog(true);\n  };\n  const filteredVentas = ventas.filter(venta => {\n    // Validar que la venta tenga al menos los campos mínimos para mostrar\n    if (!venta || !venta.id_venta) {\n      console.warn('Venta sin ID:', venta);\n      return false;\n    }\n\n    // Si no hay término de búsqueda, mostrar todas las ventas válidas\n    if (!searchTerm.trim()) {\n      return true;\n    }\n\n    // Validar que searchTerm no sea undefined\n    const searchLower = searchTerm.toLowerCase();\n    return (venta.placa_vehiculo || '').toLowerCase().includes(searchLower) || (venta.numero_espacio || '').toLowerCase().includes(searchLower) || (venta.nombre_cliente || '').toLowerCase().includes(searchLower) || (venta.apellido_cliente || '').toLowerCase().includes(searchLower);\n  });\n  const paginatedVentas = filteredVentas.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\n  const getStatusColor = estado => {\n    if (!estado) return 'default';\n    switch (estado) {\n      case 'activa':\n        return 'warning';\n      case 'finalizada':\n        return 'success';\n      case 'cancelada':\n        return 'error';\n      default:\n        return 'default';\n    }\n  };\n  const getStatusLabel = estado => {\n    if (!estado) return 'N/A';\n    switch (estado) {\n      case 'activa':\n        return 'Activa';\n      case 'finalizada':\n        return 'Finalizada';\n      case 'cancelada':\n        return 'Cancelada';\n      default:\n        return estado;\n    }\n  };\n  const formatCurrency = amount => {\n    if (!amount || isNaN(amount)) return 'S/ 0.00';\n    return new Intl.NumberFormat('es-PE', {\n      style: 'currency',\n      currency: 'PEN'\n    }).format(amount);\n  };\n\n  // Función para manejar errores 429 con retry\n  const handleRateLimitError = (error, retryFunction) => {\n    var _error$response6;\n    if (((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.status) === 429) {\n      const retryAfter = error.response.headers['retry-after'] || 5;\n      setError(`Demasiadas peticiones. Reintentando en ${retryAfter} segundos...`);\n      setTimeout(() => {\n        setError(null);\n        retryFunction();\n      }, retryAfter * 1000);\n    } else {\n      var _error$response7, _error$response7$data;\n      setError(((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : (_error$response7$data = _error$response7.data) === null || _error$response7$data === void 0 ? void 0 : _error$response7$data.error) || 'Error en la operación');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      minHeight: \"400px\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 60\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          component: \"h1\",\n          gutterBottom: true,\n          sx: {\n            color: '#1976d2',\n            fontWeight: 600\n          },\n          children: \"\\uD83D\\uDCB0 Gesti\\xF3n de Ventas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          color: \"text.secondary\",\n          children: \"Administra las ventas y facturaci\\xF3n del sistema\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 22\n        }, this),\n        onClick: handleOpenDialog,\n        sx: {\n          bgcolor: '#1976d2'\n        },\n        children: \"Nueva Venta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      sx: {\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"primary\",\n              children: ventas.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Total de Ventas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"warning.main\",\n              children: ventas.filter(v => v.estado === 'activa').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Ventas Activas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"success.main\",\n              children: ventas.filter(v => v.estado === 'finalizada').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Ventas Finalizadas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"error.main\",\n              children: ventas.filter(v => v.estado === 'cancelada').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Ventas Canceladas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      onClose: () => setError(null),\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mb: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              placeholder: \"Buscar por placa, espacio o cliente...\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              InputProps: {\n                startAdornment: /*#__PURE__*/_jsxDEV(ReceiptIcon, {\n                  sx: {\n                    mr: 1,\n                    color: 'text.secondary'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 35\n                }, this)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            textAlign: \"right\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              startIcon: /*#__PURE__*/_jsxDEV(RefreshIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 28\n              }, this),\n              onClick: fetchData,\n              variant: \"outlined\",\n              children: \"Actualizar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          sx: {\n            mb: 3\n          },\n          children: \"Lista de Ventas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 11\n        }, this), paginatedVentas.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            textAlign: 'center',\n            py: 4,\n            color: 'text.secondary'\n          },\n          children: [/*#__PURE__*/_jsxDEV(ReceiptIcon, {\n            sx: {\n              fontSize: 60,\n              mb: 2,\n              opacity: 0.3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"No hay ventas registradas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: \"Comienza creando la primera venta de parqueamiento.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n            component: Paper,\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                children: /*#__PURE__*/_jsxDEV(TableRow, {\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 482,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Fecha\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 483,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Espacio\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 484,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Veh\\xEDculo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 485,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Cliente\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Estado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Monto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Acciones\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 489,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                children: paginatedVentas.map(venta => {\n                  // Validar que la venta tenga al menos los campos mínimos\n                  if (!venta || !venta.id_venta) {\n                    console.warn('Venta inválida en renderizado:', venta);\n                    return null;\n                  }\n                  return /*#__PURE__*/_jsxDEV(TableRow, {\n                    hover: true,\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        fontWeight: 600,\n                        children: [\"#\", venta.id_venta]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 503,\n                        columnNumber: 30\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 502,\n                      columnNumber: 28\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: [/*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        children: new Date(venta.fecha_venta).toLocaleDateString()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 508,\n                        columnNumber: 30\n                      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"caption\",\n                        color: \"text.secondary\",\n                        children: new Date(venta.hora_entrada).toLocaleTimeString()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 511,\n                        columnNumber: 30\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 507,\n                      columnNumber: 28\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: /*#__PURE__*/_jsxDEV(Chip, {\n                        label: venta.numero_espacio || 'N/A',\n                        color: \"primary\",\n                        size: \"small\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 516,\n                        columnNumber: 30\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 515,\n                      columnNumber: 28\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: /*#__PURE__*/_jsxDEV(Box, {\n                        children: [/*#__PURE__*/_jsxDEV(Typography, {\n                          variant: \"body2\",\n                          fontWeight: 600,\n                          children: venta.placa_vehiculo || 'Sin placa'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 524,\n                          columnNumber: 32\n                        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                          label: venta.tipo_vehiculo || 'N/A',\n                          color: \"secondary\",\n                          size: \"small\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 527,\n                          columnNumber: 32\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 523,\n                        columnNumber: 30\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 28\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: venta.nombre_cliente ? /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        children: [venta.nombre_cliente, \" \", venta.apellido_cliente]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 536,\n                        columnNumber: 32\n                      }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        color: \"text.secondary\",\n                        children: \"Sin cliente\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 540,\n                        columnNumber: 32\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 534,\n                      columnNumber: 28\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: /*#__PURE__*/_jsxDEV(Chip, {\n                        label: getStatusLabel(venta.estado),\n                        color: getStatusColor(venta.estado),\n                        size: \"small\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 546,\n                        columnNumber: 30\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 545,\n                      columnNumber: 28\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: venta.monto_total ? /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        fontWeight: 600,\n                        color: \"success.main\",\n                        children: formatCurrency(venta.monto_total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 554,\n                        columnNumber: 32\n                      }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        color: \"text.secondary\",\n                        children: \"Pendiente\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 558,\n                        columnNumber: 32\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 552,\n                      columnNumber: 28\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: /*#__PURE__*/_jsxDEV(Box, {\n                        sx: {\n                          display: 'flex',\n                          gap: 1\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                          title: \"Ver detalles\",\n                          children: /*#__PURE__*/_jsxDEV(IconButton, {\n                            size: \"small\",\n                            color: \"primary\",\n                            children: /*#__PURE__*/_jsxDEV(VisibilityIcon, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 567,\n                              columnNumber: 36\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 566,\n                            columnNumber: 34\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 565,\n                          columnNumber: 32\n                        }, this), venta.estado === 'activa' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                            title: \"Finalizar venta\",\n                            children: /*#__PURE__*/_jsxDEV(IconButton, {\n                              size: \"small\",\n                              color: \"success\",\n                              onClick: () => openFinalizarVenta(venta),\n                              children: /*#__PURE__*/_jsxDEV(CheckCircleIcon, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 579,\n                                columnNumber: 40\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 574,\n                              columnNumber: 38\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 573,\n                            columnNumber: 36\n                          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                            title: \"Cancelar venta\",\n                            children: /*#__PURE__*/_jsxDEV(IconButton, {\n                              size: \"small\",\n                              color: \"error\",\n                              onClick: () => openCancelarVenta(venta),\n                              children: /*#__PURE__*/_jsxDEV(CancelIcon, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 589,\n                                columnNumber: 40\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 584,\n                              columnNumber: 38\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 583,\n                            columnNumber: 36\n                          }, this)]\n                        }, void 0, true)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 564,\n                        columnNumber: 30\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 563,\n                      columnNumber: 28\n                    }, this)]\n                  }, venta.id_venta, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 26\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n            rowsPerPageOptions: [5, 10, 25],\n            component: \"div\",\n            count: filteredVentas.length,\n            rowsPerPage: rowsPerPage,\n            page: page,\n            onPageChange: (_, newPage) => setPage(newPage),\n            onRowsPerPageChange: e => {\n              setRowsPerPage(parseInt(e.target.value, 10));\n              setPage(0);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openDialog,\n      onClose: handleCloseDialog,\n      maxWidth: \"md\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(AddIcon, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 13\n          }, this), \"Nueva Venta de Parqueamiento\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          sx: {\n            mt: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Espacio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 632,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: formData.id_espacio,\n                label: \"Espacio\",\n                onChange: e => setFormData({\n                  ...formData,\n                  id_espacio: e.target.value\n                }),\n                children: espacios.map(espacio => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: espacio.id_espacio,\n                  children: [espacio.numero_espacio, \" - \", espacio.tipo_vehiculo, \" (S/ \", typeof espacio.tarifa_hora === 'number' ? espacio.tarifa_hora : 0, \"/h)\"]\n                }, espacio.id_espacio, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Cliente (Opcional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: formData.id_cliente || '',\n                label: \"Cliente (Opcional)\",\n                onChange: e => setFormData({\n                  ...formData,\n                  id_cliente: e.target.value || undefined\n                }),\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"\",\n                  children: \"Sin cliente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 655,\n                  columnNumber: 19\n                }, this), clientes.map(cliente => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: cliente.idCliente,\n                  children: [cliente.Nombre_Cliente, \" \", cliente.Apellido_Cliente]\n                }, cliente.idCliente, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Placa del Veh\\xEDculo *\",\n              value: formData.placa_vehiculo,\n              onChange: e => setFormData({\n                ...formData,\n                placa_vehiculo: e.target.value.toUpperCase()\n              }),\n              required: true,\n              placeholder: \"ABC-123\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 666,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Tipo de Veh\\xEDculo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: formData.tipo_vehiculo,\n                label: \"Tipo de Veh\\xEDculo\",\n                onChange: e => setFormData({\n                  ...formData,\n                  tipo_vehiculo: e.target.value\n                }),\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"auto\",\n                  children: \"Auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 684,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"camioneta\",\n                  children: \"Camioneta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"camion\",\n                  children: \"Cami\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 686,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"moto\",\n                  children: \"Moto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 687,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Observaciones\",\n              value: formData.observaciones,\n              onChange: e => setFormData({\n                ...formData,\n                observaciones: e.target.value\n              }),\n              multiline: true,\n              rows: 3,\n              placeholder: \"Observaciones adicionales sobre la venta...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCloseDialog,\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSubmit,\n          variant: \"contained\",\n          disabled: isSubmitting,\n          sx: {\n            bgcolor: '#1976d2'\n          },\n          children: isSubmitting ? 'Creando...' : 'Crear Venta'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 705,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openFinalizarDialog,\n      onClose: () => setOpenFinalizarDialog(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n            color: \"success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 722,\n            columnNumber: 13\n          }, this), \"Finalizar Venta #\", selectedVenta === null || selectedVenta === void 0 ? void 0 : selectedVenta.id_venta]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            gutterBottom: true,\n            children: \"\\xBFEst\\xE1s seguro de que quieres finalizar esta venta?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 728,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            sx: {\n              mb: 2\n            },\n            children: \"Se calcular\\xE1 el monto total basado en el tiempo transcurrido.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Observaciones de Salida\",\n            value: finalizarForm.observaciones_salida,\n            onChange: e => setFinalizarForm({\n              observaciones_salida: e.target.value\n            }),\n            multiline: true,\n            rows: 3,\n            placeholder: \"Observaciones sobre la salida del veh\\xEDculo...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 735,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 727,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenFinalizarDialog(false),\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleFinalizar,\n          variant: \"contained\",\n          color: \"success\",\n          disabled: isSubmitting,\n          children: isSubmitting ? 'Finalizando...' : 'Finalizar Venta'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 746,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openCancelarDialog,\n      onClose: () => setOpenCancelarDialog(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(CancelIcon, {\n            color: \"error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 13\n          }, this), \"Cancelar Venta #\", selectedVenta === null || selectedVenta === void 0 ? void 0 : selectedVenta.id_venta]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 762,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 761,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            gutterBottom: true,\n            children: \"\\xBFEst\\xE1s seguro de que quieres cancelar esta venta?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 769,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            sx: {\n              mb: 2\n            },\n            children: \"Esta acci\\xF3n liberar\\xE1 el espacio de parqueamiento.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Motivo de Cancelaci\\xF3n *\",\n            value: cancelarForm.motivo_cancelacion,\n            onChange: e => setCancelarForm({\n              motivo_cancelacion: e.target.value\n            }),\n            multiline: true,\n            rows: 3,\n            placeholder: \"Especifica el motivo de la cancelaci\\xF3n...\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 776,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 768,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenCancelarDialog(false),\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 789,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCancelar,\n          variant: \"contained\",\n          color: \"error\",\n          disabled: isSubmitting,\n          children: isSubmitting ? 'Cancelando...' : 'Cancelar Venta'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 790,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 788,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 760,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 350,\n    columnNumber: 5\n  }, this);\n};\n_s(Ventas, \"6OocYg1JiQABjWK08ZRLqh8RHJo=\");\n_c = Ventas;\nexport default Ventas;\nvar _c;\n$RefreshReg$(_c, \"Ventas\");","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Button","Card","CardContent","Grid","Chip","IconButton","Tooltip","Dialog","DialogTitle","DialogContent","DialogActions","TextField","FormControl","InputLabel","Select","MenuItem","Alert","CircularProgress","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TablePagination","Add","AddIcon","Receipt","ReceiptIcon","Refresh","RefreshIcon","CheckCircle","CheckCircleIcon","Cancel","CancelIcon","Visibility","VisibilityIcon","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Ventas","_s","ventas","setVentas","espacios","setEspacios","clientes","setClientes","loading","setLoading","error","setError","openDialog","setOpenDialog","openFinalizarDialog","setOpenFinalizarDialog","openCancelarDialog","setOpenCancelarDialog","selectedVenta","setSelectedVenta","page","setPage","rowsPerPage","setRowsPerPage","searchTerm","setSearchTerm","isSubmitting","setIsSubmitting","formData","setFormData","id_espacio","id_cliente","undefined","placa_vehiculo","tipo_vehiculo","observaciones","finalizarForm","setFinalizarForm","observaciones_salida","cancelarForm","setCancelarForm","motivo_cancelacion","fetchData","ventasResponse","espaciosResponse","clientesResponse","Promise","all","get","console","log","data","handleOpenDialog","handleCloseDialog","handleSubmit","trim","post","_error$response","_error$response$data","response","handleFinalizar","put","id_venta","_error$response2","status","_error$response3","_error$response3$data","handleCancelar","_error$response4","_error$response5","_error$response5$data","openFinalizarVenta","venta","openCancelarVenta","filteredVentas","filter","warn","searchLower","toLowerCase","includes","numero_espacio","nombre_cliente","apellido_cliente","paginatedVentas","slice","getStatusColor","estado","getStatusLabel","formatCurrency","amount","isNaN","Intl","NumberFormat","style","currency","format","handleRateLimitError","retryFunction","_error$response6","retryAfter","headers","setTimeout","_error$response7","_error$response7$data","display","justifyContent","alignItems","minHeight","children","size","fileName","_jsxFileName","lineNumber","columnNumber","sx","mb","variant","component","gutterBottom","color","fontWeight","startIcon","onClick","bgcolor","container","spacing","item","xs","sm","md","textAlign","length","v","severity","onClose","fullWidth","placeholder","value","onChange","e","target","InputProps","startAdornment","mr","py","fontSize","opacity","map","hover","Date","fecha_venta","toLocaleDateString","hora_entrada","toLocaleTimeString","label","monto_total","gap","title","rowsPerPageOptions","count","onPageChange","_","newPage","onRowsPerPageChange","parseInt","open","maxWidth","mt","required","espacio","tarifa_hora","cliente","idCliente","Nombre_Cliente","Apellido_Cliente","toUpperCase","multiline","rows","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Documents/GitHub/Reingenieria/pos_parqueamiento_NEW/client/src/pages/Ventas/Ventas.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  Chip,\r\n  IconButton,\r\n  Tooltip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Alert,\r\n  CircularProgress,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  TablePagination\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Receipt as ReceiptIcon,\r\n  Refresh as RefreshIcon,\r\n  CheckCircle as CheckCircleIcon,\r\n  Cancel as CancelIcon,\r\n  Visibility as VisibilityIcon\r\n} from '@mui/icons-material';\r\n\r\nimport axios from 'axios';\r\n\r\ninterface Venta {\r\n  id_venta: number;\r\n  fecha_venta: string;\r\n  hora_entrada: string;\r\n  hora_salida?: string | null;\r\n  tiempo_total?: number | null;\r\n  tarifa_hora: number | null;\r\n  monto_total?: number | null;\r\n  estado: 'activa' | 'finalizada' | 'cancelada' | null;\r\n  id_cliente?: number | null;\r\n  id_espacio: number;\r\n  id_usuario: number;\r\n  placa_vehiculo: string | null;\r\n  tipo_vehiculo: string | null;\r\n  observaciones?: string | null;\r\n  observaciones_salida?: string | null;\r\n  motivo_cancelacion?: string | null;\r\n  // Campos relacionados\r\n  nombre_cliente?: string | null;\r\n  apellido_cliente?: string | null;\r\n  numero_espacio?: string | null;\r\n  nombre_usuario?: string | null;\r\n}\r\n\r\ninterface VentaForm {\r\n  id_espacio: number;\r\n  id_cliente?: number;\r\n  placa_vehiculo: string;\r\n  tipo_vehiculo: string;\r\n  observaciones: string;\r\n}\r\n\r\ninterface Espacio {\r\n  id_espacio: number;\r\n  numero_espacio: string;\r\n  tipo_vehiculo: string;\r\n  tarifa_hora: number;\r\n  estado: string;\r\n}\r\n\r\ninterface Cliente {\r\n  idCliente: number;\r\n  Nombre_Cliente: string;\r\n  Apellido_Cliente: string;\r\n  ruc_Cliente?: string;\r\n}\r\n\r\nconst Ventas: React.FC = () => {\r\n\r\n  const [ventas, setVentas] = useState<Venta[]>([]);\r\n  const [espacios, setEspacios] = useState<Espacio[]>([]);\r\n  const [clientes, setClientes] = useState<Cliente[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [openFinalizarDialog, setOpenFinalizarDialog] = useState(false);\r\n  const [openCancelarDialog, setOpenCancelarDialog] = useState(false);\r\n  const [selectedVenta, setSelectedVenta] = useState<Venta | null>(null);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const [formData, setFormData] = useState<VentaForm>({\r\n    id_espacio: 0,\r\n    id_cliente: undefined,\r\n    placa_vehiculo: '',\r\n    tipo_vehiculo: 'auto',\r\n    observaciones: ''\r\n  });\r\n\r\n  const [finalizarForm, setFinalizarForm] = useState({\r\n    observaciones_salida: ''\r\n  });\r\n\r\n  const [cancelarForm, setCancelarForm] = useState({\r\n    motivo_cancelacion: ''\r\n  });\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const [ventasResponse, espaciosResponse, clientesResponse] = await Promise.all([\r\n        axios.get('/api/ventas'),\r\n        axios.get('/api/espacios/libres'),\r\n        axios.get('/api/clientes')\r\n      ]);\r\n\r\n      console.log('Ventas recibidas:', ventasResponse.data.data);\r\n      console.log('Espacios recibidos:', espaciosResponse.data.data);\r\n      console.log('Clientes recibidos:', clientesResponse.data.data);\r\n      \r\n      setVentas(ventasResponse.data.data);\r\n      setEspacios(espaciosResponse.data.data);\r\n      setClientes(clientesResponse.data.data);\r\n    } catch (error: any) {\r\n      console.error('Error al cargar datos:', error);\r\n      setError('Error al cargar los datos');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleOpenDialog = () => {\r\n    setFormData({\r\n      id_espacio: 0,\r\n      id_cliente: undefined,\r\n      placa_vehiculo: '',\r\n      tipo_vehiculo: 'auto',\r\n      observaciones: ''\r\n    });\r\n    setOpenDialog(true);\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setOpenDialog(false);\r\n    setFormData({\r\n      id_espacio: 0,\r\n      id_cliente: undefined,\r\n      placa_vehiculo: '',\r\n      tipo_vehiculo: 'auto',\r\n      observaciones: ''\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (isSubmitting) return;\r\n    \r\n    try {\r\n      if (!formData.id_espacio || !formData.placa_vehiculo.trim()) {\r\n        setError('Por favor complete todos los campos requeridos');\r\n        return;\r\n      }\r\n\r\n      setIsSubmitting(true);\r\n      await axios.post('/api/ventas', formData);\r\n      fetchData();\r\n      handleCloseDialog();\r\n    } catch (error: any) {\r\n      console.error('Error al crear venta:', error);\r\n      setError(error.response?.data?.error || 'Error al crear la venta');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleFinalizar = async () => {\r\n    if (!selectedVenta || isSubmitting) return;\r\n    \r\n    try {\r\n      setIsSubmitting(true);\r\n      await axios.put(`/api/ventas/${selectedVenta.id_venta}/finalizar`, finalizarForm);\r\n      fetchData();\r\n      setOpenFinalizarDialog(false);\r\n      setSelectedVenta(null);\r\n      setFinalizarForm({ observaciones_salida: '' });\r\n    } catch (error: any) {\r\n      console.error('Error al finalizar venta:', error);\r\n      if (error.response?.status === 429) {\r\n        setError('Demasiadas peticiones. Por favor espera un momento antes de intentar nuevamente.');\r\n      } else {\r\n        setError(error.response?.data?.error || 'Error al finalizar la venta');\r\n      }\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleCancelar = async () => {\r\n    if (!selectedVenta || isSubmitting) return;\r\n    \r\n    try {\r\n      setIsSubmitting(true);\r\n      await axios.put(`/api/ventas/${selectedVenta.id_venta}/cancelar`, cancelarForm);\r\n      fetchData();\r\n      setOpenCancelarDialog(false);\r\n      setSelectedVenta(null);\r\n      setCancelarForm({ motivo_cancelacion: '' });\r\n    } catch (error: any) {\r\n      console.error('Error al cancelar venta:', error);\r\n      if (error.response?.status === 429) {\r\n        setError('Demasiadas peticiones. Por favor espera un momento antes de intentar nuevamente.');\r\n      } else {\r\n        setError(error.response?.data?.error || 'Error al cancelar la venta');\r\n      }\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const openFinalizarVenta = (venta: Venta) => {\r\n    if (!venta || !venta.id_venta) {\r\n      console.error('Venta inválida para finalizar:', venta);\r\n      return;\r\n    }\r\n    setSelectedVenta(venta);\r\n    setOpenFinalizarDialog(true);\r\n  };\r\n\r\n  const openCancelarVenta = (venta: Venta) => {\r\n    if (!venta || !venta.id_venta) {\r\n      console.error('Venta inválida para cancelar:', venta);\r\n      return;\r\n    }\r\n    setSelectedVenta(venta);\r\n    setOpenCancelarDialog(true);\r\n  };\r\n\r\n  const filteredVentas = ventas.filter(venta => {\r\n    // Validar que la venta tenga al menos los campos mínimos para mostrar\r\n    if (!venta || !venta.id_venta) {\r\n      console.warn('Venta sin ID:', venta);\r\n      return false;\r\n    }\r\n    \r\n    // Si no hay término de búsqueda, mostrar todas las ventas válidas\r\n    if (!searchTerm.trim()) {\r\n      return true;\r\n    }\r\n    \r\n    // Validar que searchTerm no sea undefined\r\n    const searchLower = searchTerm.toLowerCase();\r\n    \r\n    return (\r\n      (venta.placa_vehiculo || '').toLowerCase().includes(searchLower) ||\r\n      (venta.numero_espacio || '').toLowerCase().includes(searchLower) ||\r\n      (venta.nombre_cliente || '').toLowerCase().includes(searchLower) ||\r\n      (venta.apellido_cliente || '').toLowerCase().includes(searchLower)\r\n    );\r\n  });\r\n\r\n  const paginatedVentas = filteredVentas.slice(\r\n    page * rowsPerPage,\r\n    page * rowsPerPage + rowsPerPage\r\n  );\r\n\r\n  const getStatusColor = (estado: string | null | undefined) => {\r\n    if (!estado) return 'default';\r\n    \r\n    switch (estado) {\r\n      case 'activa':\r\n        return 'warning';\r\n      case 'finalizada':\r\n        return 'success';\r\n      case 'cancelada':\r\n        return 'error';\r\n      default:\r\n        return 'default';\r\n    }\r\n  };\r\n\r\n  const getStatusLabel = (estado: string | null | undefined) => {\r\n    if (!estado) return 'N/A';\r\n    \r\n    switch (estado) {\r\n      case 'activa':\r\n        return 'Activa';\r\n      case 'finalizada':\r\n        return 'Finalizada';\r\n      case 'cancelada':\r\n        return 'Cancelada';\r\n      default:\r\n        return estado;\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (amount: number) => {\r\n    if (!amount || isNaN(amount)) return 'S/ 0.00';\r\n    \r\n    return new Intl.NumberFormat('es-PE', {\r\n      style: 'currency',\r\n      currency: 'PEN'\r\n    }).format(amount);\r\n  };\r\n\r\n  // Función para manejar errores 429 con retry\r\n  const handleRateLimitError = (error: any, retryFunction: () => Promise<void>) => {\r\n    if (error.response?.status === 429) {\r\n      const retryAfter = error.response.headers['retry-after'] || 5;\r\n      setError(`Demasiadas peticiones. Reintentando en ${retryAfter} segundos...`);\r\n      \r\n      setTimeout(() => {\r\n        setError(null);\r\n        retryFunction();\r\n      }, retryAfter * 1000);\r\n    } else {\r\n      setError(error.response?.data?.error || 'Error en la operación');\r\n    }\r\n  };\r\n\r\n\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n        <CircularProgress size={60} />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      {/* Header */}\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 4 }}>\r\n        <Box>\r\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ color: '#1976d2', fontWeight: 600 }}>\r\n            💰 Gestión de Ventas\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"text.secondary\">\r\n            Administra las ventas y facturación del sistema\r\n          </Typography>\r\n        </Box>\r\n        \r\n        <Button\r\n          variant=\"contained\"\r\n          startIcon={<AddIcon />}\r\n          onClick={handleOpenDialog}\r\n          sx={{ bgcolor: '#1976d2' }}\r\n        >\r\n          Nueva Venta\r\n        </Button>\r\n      </Box>\r\n\r\n      {/* Estadísticas rápidas */}\r\n      <Grid container spacing={3} sx={{ mb: 4 }}>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"primary\">\r\n                {ventas.length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Total de Ventas\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"warning.main\">\r\n                {ventas.filter(v => v.estado === 'activa').length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Ventas Activas\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"success.main\">\r\n                {ventas.filter(v => v.estado === 'finalizada').length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Ventas Finalizadas\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"error.main\">\r\n                {ventas.filter(v => v.estado === 'cancelada').length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Ventas Canceladas\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Mensaje de error */}\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Filtros y búsqueda */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Grid container spacing={2} alignItems=\"center\">\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                placeholder=\"Buscar por placa, espacio o cliente...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                InputProps={{\r\n                  startAdornment: <ReceiptIcon sx={{ mr: 1, color: 'text.secondary' }} />\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6} textAlign=\"right\">\r\n              <Button\r\n                startIcon={<RefreshIcon />}\r\n                onClick={fetchData}\r\n                variant=\"outlined\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Tabla de ventas */}\r\n      <Card>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" gutterBottom sx={{ mb: 3 }}>\r\n            Lista de Ventas\r\n          </Typography>\r\n\r\n          {paginatedVentas.length === 0 ? (\r\n            <Box sx={{ textAlign: 'center', py: 4, color: 'text.secondary' }}>\r\n              <ReceiptIcon sx={{ fontSize: 60, mb: 2, opacity: 0.3 }} />\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                No hay ventas registradas\r\n              </Typography>\r\n              <Typography variant=\"body2\">\r\n                Comienza creando la primera venta de parqueamiento.\r\n              </Typography>\r\n            </Box>\r\n          ) : (\r\n            <>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>ID</TableCell>\r\n                      <TableCell>Fecha</TableCell>\r\n                      <TableCell>Espacio</TableCell>\r\n                      <TableCell>Vehículo</TableCell>\r\n                      <TableCell>Cliente</TableCell>\r\n                      <TableCell>Estado</TableCell>\r\n                      <TableCell>Monto</TableCell>\r\n                      <TableCell>Acciones</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                                                              {paginatedVentas.map((venta) => {\r\n                       // Validar que la venta tenga al menos los campos mínimos\r\n                       if (!venta || !venta.id_venta) {\r\n                         console.warn('Venta inválida en renderizado:', venta);\r\n                         return null;\r\n                       }\r\n                       \r\n                       return (\r\n                         <TableRow key={venta.id_venta} hover>\r\n                           <TableCell>\r\n                             <Typography variant=\"body2\" fontWeight={600}>\r\n                               #{venta.id_venta}\r\n                             </Typography>\r\n                           </TableCell>\r\n                           <TableCell>\r\n                             <Typography variant=\"body2\">\r\n                               {new Date(venta.fecha_venta).toLocaleDateString()}\r\n                             </Typography>\r\n                             <Typography variant=\"caption\" color=\"text.secondary\">\r\n                               {new Date(venta.hora_entrada).toLocaleTimeString()}\r\n                             </Typography>\r\n                           </TableCell>\r\n                           <TableCell>\r\n                             <Chip \r\n                               label={venta.numero_espacio || 'N/A'} \r\n                               color=\"primary\" \r\n                               size=\"small\"\r\n                             />\r\n                           </TableCell>\r\n                           <TableCell>\r\n                             <Box>\r\n                               <Typography variant=\"body2\" fontWeight={600}>\r\n                                 {venta.placa_vehiculo || 'Sin placa'}\r\n                               </Typography>\r\n                               <Chip \r\n                                 label={venta.tipo_vehiculo || 'N/A'} \r\n                                 color=\"secondary\" \r\n                                 size=\"small\"\r\n                               />\r\n                             </Box>\r\n                           </TableCell>\r\n                           <TableCell>\r\n                             {venta.nombre_cliente ? (\r\n                               <Typography variant=\"body2\">\r\n                                 {venta.nombre_cliente} {venta.apellido_cliente}\r\n                               </Typography>\r\n                             ) : (\r\n                               <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                 Sin cliente\r\n                               </Typography>\r\n                             )}\r\n                           </TableCell>\r\n                           <TableCell>\r\n                             <Chip\r\n                               label={getStatusLabel(venta.estado)}\r\n                               color={getStatusColor(venta.estado) as any}\r\n                               size=\"small\"\r\n                             />\r\n                           </TableCell>\r\n                           <TableCell>\r\n                             {venta.monto_total ? (\r\n                               <Typography variant=\"body2\" fontWeight={600} color=\"success.main\">\r\n                                 {formatCurrency(venta.monto_total)}\r\n                               </Typography>\r\n                             ) : (\r\n                               <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                 Pendiente\r\n                               </Typography>\r\n                             )}\r\n                           </TableCell>\r\n                           <TableCell>\r\n                             <Box sx={{ display: 'flex', gap: 1 }}>\r\n                               <Tooltip title=\"Ver detalles\">\r\n                                 <IconButton size=\"small\" color=\"primary\">\r\n                                   <VisibilityIcon />\r\n                                 </IconButton>\r\n                               </Tooltip>\r\n                               \r\n                               {venta.estado === 'activa' && (\r\n                                 <>\r\n                                   <Tooltip title=\"Finalizar venta\">\r\n                                     <IconButton \r\n                                       size=\"small\" \r\n                                       color=\"success\"\r\n                                       onClick={() => openFinalizarVenta(venta)}\r\n                                     >\r\n                                       <CheckCircleIcon />\r\n                                     </IconButton>\r\n                                   </Tooltip>\r\n                                   \r\n                                   <Tooltip title=\"Cancelar venta\">\r\n                                     <IconButton \r\n                                       size=\"small\" \r\n                                       color=\"error\"\r\n                                       onClick={() => openCancelarVenta(venta)}\r\n                                     >\r\n                                       <CancelIcon />\r\n                                     </IconButton>\r\n                                   </Tooltip>\r\n                                 </>\r\n                               )}\r\n                             </Box>\r\n                           </TableCell>\r\n                         </TableRow>\r\n                       );\r\n                     })}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n              <TablePagination\r\n                rowsPerPageOptions={[5, 10, 25]}\r\n                component=\"div\"\r\n                count={filteredVentas.length}\r\n                rowsPerPage={rowsPerPage}\r\n                page={page}\r\n                onPageChange={(_, newPage) => setPage(newPage)}\r\n                onRowsPerPageChange={(e) => {\r\n                  setRowsPerPage(parseInt(e.target.value, 10));\r\n                  setPage(0);\r\n                }}\r\n              />\r\n            </>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Dialog para crear nueva venta */}\r\n      <Dialog open={openDialog} onClose={handleCloseDialog} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n            <AddIcon color=\"primary\" />\r\n            Nueva Venta de Parqueamiento\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Grid container spacing={2} sx={{ mt: 1 }}>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl fullWidth required>\r\n                <InputLabel>Espacio</InputLabel>\r\n                <Select\r\n                  value={formData.id_espacio}\r\n                  label=\"Espacio\"\r\n                  onChange={(e) => setFormData({ ...formData, id_espacio: e.target.value as number })}\r\n                >\r\n                  {espacios.map((espacio) => (\r\n                    <MenuItem key={espacio.id_espacio} value={espacio.id_espacio}>\r\n                      {espacio.numero_espacio} - {espacio.tipo_vehiculo} (S/ {typeof espacio.tarifa_hora === 'number' ? espacio.tarifa_hora : 0}/h)\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} md={6}>\r\n              <FormControl fullWidth>\r\n                <InputLabel>Cliente (Opcional)</InputLabel>\r\n                <Select\r\n                  value={formData.id_cliente || ''}\r\n                  label=\"Cliente (Opcional)\"\r\n                  onChange={(e) => setFormData({ ...formData, id_cliente: e.target.value as number || undefined })}\r\n                >\r\n                  <MenuItem value=\"\">Sin cliente</MenuItem>\r\n                  {clientes.map((cliente) => (\r\n                    <MenuItem key={cliente.idCliente} value={cliente.idCliente}>\r\n                      {cliente.Nombre_Cliente} {cliente.Apellido_Cliente}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Placa del Vehículo *\"\r\n                value={formData.placa_vehiculo}\r\n                onChange={(e) => setFormData({ ...formData, placa_vehiculo: e.target.value.toUpperCase() })}\r\n                required\r\n                placeholder=\"ABC-123\"\r\n              />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} md={6}>\r\n              <FormControl fullWidth required>\r\n                <InputLabel>Tipo de Vehículo</InputLabel>\r\n                <Select\r\n                  value={formData.tipo_vehiculo}\r\n                  label=\"Tipo de Vehículo\"\r\n                  onChange={(e) => setFormData({ ...formData, tipo_vehiculo: e.target.value as string })}\r\n                >\r\n                  <MenuItem value=\"auto\">Auto</MenuItem>\r\n                  <MenuItem value=\"camioneta\">Camioneta</MenuItem>\r\n                  <MenuItem value=\"camion\">Camión</MenuItem>\r\n                  <MenuItem value=\"moto\">Moto</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Observaciones\"\r\n                value={formData.observaciones}\r\n                onChange={(e) => setFormData({ ...formData, observaciones: e.target.value })}\r\n                multiline\r\n                rows={3}\r\n                placeholder=\"Observaciones adicionales sobre la venta...\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCloseDialog}>Cancelar</Button>\r\n                     <Button \r\n             onClick={handleSubmit} \r\n             variant=\"contained\" \r\n             disabled={isSubmitting}\r\n             sx={{ bgcolor: '#1976d2' }}\r\n           >\r\n             {isSubmitting ? 'Creando...' : 'Crear Venta'}\r\n           </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dialog para finalizar venta */}\r\n      <Dialog open={openFinalizarDialog} onClose={() => setOpenFinalizarDialog(false)} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n            <CheckCircleIcon color=\"success\" />\r\n            Finalizar Venta #{selectedVenta?.id_venta}\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Box sx={{ mt: 2 }}>\r\n            <Typography variant=\"body1\" gutterBottom>\r\n              ¿Estás seguro de que quieres finalizar esta venta?\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n              Se calculará el monto total basado en el tiempo transcurrido.\r\n            </Typography>\r\n            \r\n            <TextField\r\n              fullWidth\r\n              label=\"Observaciones de Salida\"\r\n              value={finalizarForm.observaciones_salida}\r\n              onChange={(e) => setFinalizarForm({ observaciones_salida: e.target.value })}\r\n              multiline\r\n              rows={3}\r\n              placeholder=\"Observaciones sobre la salida del vehículo...\"\r\n            />\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenFinalizarDialog(false)}>Cancelar</Button>\r\n                     <Button \r\n             onClick={handleFinalizar} \r\n             variant=\"contained\" \r\n             color=\"success\"\r\n             disabled={isSubmitting}\r\n           >\r\n             {isSubmitting ? 'Finalizando...' : 'Finalizar Venta'}\r\n           </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dialog para cancelar venta */}\r\n      <Dialog open={openCancelarDialog} onClose={() => setOpenCancelarDialog(false)} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n            <CancelIcon color=\"error\" />\r\n            Cancelar Venta #{selectedVenta?.id_venta}\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Box sx={{ mt: 2 }}>\r\n            <Typography variant=\"body1\" gutterBottom>\r\n              ¿Estás seguro de que quieres cancelar esta venta?\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n              Esta acción liberará el espacio de parqueamiento.\r\n            </Typography>\r\n            \r\n            <TextField\r\n              fullWidth\r\n              label=\"Motivo de Cancelación *\"\r\n              value={cancelarForm.motivo_cancelacion}\r\n              onChange={(e) => setCancelarForm({ motivo_cancelacion: e.target.value })}\r\n              multiline\r\n              rows={3}\r\n              placeholder=\"Especifica el motivo de la cancelación...\"\r\n              required\r\n            />\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenCancelarDialog(false)}>Cancelar</Button>\r\n                     <Button \r\n             onClick={handleCancelar} \r\n             variant=\"contained\" \r\n             color=\"error\"\r\n             disabled={isSubmitting}\r\n           >\r\n             {isSubmitting ? 'Cancelando...' : 'Cancelar Venta'}\r\n           </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Ventas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}