{"ast":null,"code":"import _objectWithoutProperties from\"C:/Users/Asus/Documents/GitHub/Reingenieria/pos_parqueamiento_NEW/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"C:/Users/Asus/Documents/GitHub/Reingenieria/pos_parqueamiento_NEW/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const _excluded=[\"password\"];import React,{useState,useEffect}from'react';import{Box,Typography,Button,Card,CardContent,Grid,Chip,IconButton,Tooltip,Dialog,DialogTitle,DialogContent,DialogActions,TextField,FormControl,InputLabel,Select,MenuItem,Alert,CircularProgress,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,TablePagination,Switch}from'@mui/material';import{Add as AddIcon,Edit as EditIcon,Delete as DeleteIcon,Person as PersonIcon,Refresh as RefreshIcon,Visibility as VisibilityIcon,Lock as LockIcon,Search as SearchIcon}from'@mui/icons-material';import{useAuth}from'../../contexts/AuthContext';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Usuarios=()=>{const{user:currentUser}=useAuth();const[usuarios,setUsuarios]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[openDialog,setOpenDialog]=useState(false);const[openPasswordDialog,setOpenPasswordDialog]=useState(false);const[editingUsuario,setEditingUsuario]=useState(null);const[selectedUsuario,setSelectedUsuario]=useState(null);const[page,setPage]=useState(0);const[rowsPerPage,setRowsPerPage]=useState(10);const[searchTerm,setSearchTerm]=useState('');const[formData,setFormData]=useState({nombre:'',apellido:'',email:'',password:'',rol:'vendedor'});const[passwordForm,setPasswordForm]=useState({password_actual:'',password_nuevo:'',password_confirmar:''});const fetchUsuarios=async()=>{try{setLoading(true);setError(null);const response=await axios.get('/api/usuarios');setUsuarios(response.data.data);}catch(error){console.error('Error al cargar usuarios:',error);setError('Error al cargar los usuarios');}finally{setLoading(false);}};useEffect(()=>{fetchUsuarios();},[]);const handleOpenDialog=usuario=>{if(usuario){setEditingUsuario(usuario);setFormData({nombre:usuario.nombre,apellido:usuario.apellido,email:usuario.email,password:'',// No mostrar contrase침a actual\nrol:usuario.rol});}else{setEditingUsuario(null);setFormData({nombre:'',apellido:'',email:'',password:'',rol:'vendedor'});}setOpenDialog(true);};const handleCloseDialog=()=>{setOpenDialog(false);setEditingUsuario(null);setFormData({nombre:'',apellido:'',email:'',password:'',rol:'vendedor'});};const handleOpenPasswordDialog=usuario=>{setSelectedUsuario(usuario);setPasswordForm({password_actual:'',password_nuevo:'',password_confirmar:''});setOpenPasswordDialog(true);};const handleClosePasswordDialog=()=>{setOpenPasswordDialog(false);setSelectedUsuario(null);setPasswordForm({password_actual:'',password_nuevo:'',password_confirmar:''});};const handleSubmit=async()=>{try{if(editingUsuario){// Para edici칩n, solo enviar password si se proporcion칩 uno nuevo\nconst updateData=_objectSpread({},formData);if(!updateData.password){const{password}=updateData,updateDataWithoutPassword=_objectWithoutProperties(updateData,_excluded);await axios.put(\"/api/usuarios/\".concat(editingUsuario.id_usuario),updateDataWithoutPassword);}else{await axios.put(\"/api/usuarios/\".concat(editingUsuario.id_usuario),updateData);}return;await axios.put(\"/api/usuarios/\".concat(editingUsuario.id_usuario),updateData);}else{await axios.post('/api/usuarios',formData);}fetchUsuarios();handleCloseDialog();}catch(error){var _error$response,_error$response$data;console.error('Error al guardar usuario:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Error al guardar el usuario');}};const handleChangePassword=async()=>{try{if(passwordForm.password_nuevo!==passwordForm.password_confirmar){setError('Las contrase침as nuevas no coinciden');return;}if(passwordForm.password_nuevo.length<6){setError('La contrase침a debe tener al menos 6 caracteres');return;}await axios.put(\"/api/usuarios/\".concat(selectedUsuario===null||selectedUsuario===void 0?void 0:selectedUsuario.id_usuario,\"/password\"),{password_actual:passwordForm.password_actual,password_nuevo:passwordForm.password_nuevo});handleClosePasswordDialog();setError(null);}catch(error){var _error$response2,_error$response2$data;console.error('Error al cambiar contrase침a:',error);setError(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Error al cambiar la contrase침a');}};const handleDelete=async id=>{if(window.confirm('쮼st치s seguro de que quieres eliminar este usuario?')){try{await axios.delete(\"/api/usuarios/\".concat(id));fetchUsuarios();}catch(error){var _error$response3,_error$response3$data;console.error('Error al eliminar usuario:',error);setError(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||'Error al eliminar el usuario');}}};const handleToggleEstado=async usuario=>{try{const nuevoEstado=usuario.estado==='activo'?'inactivo':'activo';await axios.put(\"/api/usuarios/\".concat(usuario.id_usuario,\"/estado\"),{estado:nuevoEstado});fetchUsuarios();}catch(error){var _error$response4,_error$response4$data;console.error('Error al cambiar estado:',error);setError(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||'Error al cambiar el estado');}};const filteredUsuarios=usuarios.filter(usuario=>usuario.nombre.toLowerCase().includes(searchTerm.toLowerCase())||usuario.apellido.toLowerCase().includes(searchTerm.toLowerCase())||usuario.email.toLowerCase().includes(searchTerm.toLowerCase())||usuario.rol.toLowerCase().includes(searchTerm.toLowerCase()));const paginatedUsuarios=filteredUsuarios.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage);const getRolColor=rol=>{switch(rol){case'admin':return'error';case'vendedor':return'primary';case'cajero':return'warning';default:return'default';}};const getRolLabel=rol=>{switch(rol){case'admin':return'Administrador';case'vendedor':return'Vendedor';case'cajero':return'Cajero';default:return rol;}};const formatDateTime=dateString=>{if(!dateString)return'Nunca';return new Date(dateString).toLocaleString('es-PE');};if(loading){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"400px\",children:/*#__PURE__*/_jsx(CircularProgress,{size:60})});}return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:4},children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,sx:{color:'#1976d2',fontWeight:600},children:\"\\uD83D\\uDC65 Gesti\\xF3n de Usuarios\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:\"Administra los usuarios del sistema y sus permisos\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2},children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(RefreshIcon,{}),onClick:fetchUsuarios,children:\"Actualizar\"}),(currentUser===null||currentUser===void 0?void 0:currentUser.rol)==='admin'&&/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:()=>handleOpenDialog(),sx:{bgcolor:'#1976d2'},children:\"Nuevo Usuario\"})]})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mb:4},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"primary\",children:usuarios.length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Total de Usuarios\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"success.main\",children:usuarios.filter(u=>u.estado==='activo').length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Usuarios Activos\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"error.main\",children:usuarios.filter(u=>u.rol==='admin').length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Administradores\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"warning.main\",children:usuarios.filter(u=>u.estado==='inactivo').length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Usuarios Inactivos\"})]})})})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},onClose:()=>setError(null),children:error}),/*#__PURE__*/_jsx(Card,{sx:{mb:3},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,placeholder:\"Buscar por nombre, apellido, email o rol...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),InputProps:{startAdornment:/*#__PURE__*/_jsx(SearchIcon,{sx:{mr:1,color:'text.secondary'}})}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,textAlign:\"right\",children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[filteredUsuarios.length,\" de \",usuarios.length,\" usuarios\"]})})]})})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,sx:{mb:3},children:\"Lista de Usuarios\"}),paginatedUsuarios.length===0?/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',py:4,color:'text.secondary'},children:[/*#__PURE__*/_jsx(PersonIcon,{sx:{fontSize:60,mb:2,opacity:0.3}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"No hay usuarios registrados\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Comienza agregando el primer usuario del sistema.\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Nombre\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Rol\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Estado\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\xDAltimo Acceso\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Fecha Creaci\\xF3n\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:paginatedUsuarios.map(usuario=>/*#__PURE__*/_jsxs(TableRow,{hover:true,children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",fontWeight:600,children:[\"#\",usuario.id_usuario]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",fontWeight:600,children:[usuario.nombre,\" \",usuario.apellido]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:usuario.email})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:getRolLabel(usuario.rol),color:getRolColor(usuario.rol),size:\"small\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:usuario.estado==='activo'?'Activo':'Inactivo',color:usuario.estado==='activo'?'success':'default',size:\"small\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:usuario.ultimo_acceso?formatDateTime(usuario.ultimo_acceso):'Nunca'})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:formatDateTime(usuario.fecha_creacion)})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1,justifyContent:'center'},children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Ver detalles\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",color:\"primary\",children:/*#__PURE__*/_jsx(VisibilityIcon,{})})}),(currentUser===null||currentUser===void 0?void 0:currentUser.rol)==='admin'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Editar\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",color:\"primary\",onClick:()=>handleOpenDialog(usuario),children:/*#__PURE__*/_jsx(EditIcon,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Cambiar contrase\\xF1a\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",color:\"warning\",onClick:()=>handleOpenPasswordDialog(usuario),children:/*#__PURE__*/_jsx(LockIcon,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:usuario.estado==='activo'?'Desactivar':'Activar',children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",color:usuario.estado==='activo'?'error':'success',onClick:()=>handleToggleEstado(usuario),children:/*#__PURE__*/_jsx(Switch,{checked:usuario.estado==='activo',size:\"small\",onChange:()=>handleToggleEstado(usuario)})})}),usuario.id_usuario!==(currentUser===null||currentUser===void 0?void 0:currentUser.id)&&/*#__PURE__*/_jsx(Tooltip,{title:\"Eliminar\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",color:\"error\",onClick:()=>handleDelete(usuario.id_usuario),children:/*#__PURE__*/_jsx(DeleteIcon,{})})})]})]})})]},usuario.id_usuario))})]})}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[5,10,25],component:\"div\",count:filteredUsuarios.length,rowsPerPage:rowsPerPage,page:page,onPageChange:(_,newPage)=>setPage(newPage),onRowsPerPageChange:e=>{setRowsPerPage(parseInt(e.target.value,10));setPage(0);}})]})]})}),/*#__PURE__*/_jsxs(Dialog,{open:openDialog,onClose:handleCloseDialog,maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[editingUsuario?/*#__PURE__*/_jsx(EditIcon,{color:\"primary\"}):/*#__PURE__*/_jsx(AddIcon,{color:\"primary\"}),editingUsuario?'Editar Usuario':'Nuevo Usuario']})}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,sx:{mt:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Nombre *\",value:formData.nombre,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{nombre:e.target.value})),required:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Apellido *\",value:formData.apellido,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{apellido:e.target.value})),required:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email *\",type:\"email\",value:formData.email,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value})),required:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,required:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Rol\"}),/*#__PURE__*/_jsxs(Select,{value:formData.rol,label:\"Rol\",onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{rol:e.target.value})),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"vendedor\",children:\"Vendedor\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"cajero\",children:\"Cajero\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"admin\",children:\"Administrador\"})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:editingUsuario?'Nueva Contrase침a (dejar en blanco para mantener la actual)':'Contrase침a *',type:\"password\",value:formData.password,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{password:e.target.value})),required:!editingUsuario,helperText:editingUsuario?'Deja en blanco para mantener la contrase침a actual':'M칤nimo 6 caracteres'})})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseDialog,children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,variant:\"contained\",sx:{bgcolor:'#1976d2'},children:editingUsuario?'Actualizar':'Crear'})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:openPasswordDialog,onClose:handleClosePasswordDialog,maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(LockIcon,{color:\"warning\"}),\"Cambiar Contrase\\xF1a - \",selectedUsuario===null||selectedUsuario===void 0?void 0:selectedUsuario.nombre,\" \",selectedUsuario===null||selectedUsuario===void 0?void 0:selectedUsuario.apellido]})}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,sx:{mt:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Contrase\\xF1a Actual *\",type:\"password\",value:passwordForm.password_actual,onChange:e=>setPasswordForm(_objectSpread(_objectSpread({},passwordForm),{},{password_actual:e.target.value})),required:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Nueva Contrase\\xF1a *\",type:\"password\",value:passwordForm.password_nuevo,onChange:e=>setPasswordForm(_objectSpread(_objectSpread({},passwordForm),{},{password_nuevo:e.target.value})),required:true,helperText:\"M\\xEDnimo 6 caracteres\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Confirmar Nueva Contrase\\xF1a *\",type:\"password\",value:passwordForm.password_confirmar,onChange:e=>setPasswordForm(_objectSpread(_objectSpread({},passwordForm),{},{password_confirmar:e.target.value})),required:true,error:passwordForm.password_nuevo!==passwordForm.password_confirmar&&passwordForm.password_confirmar!=='',helperText:passwordForm.password_nuevo!==passwordForm.password_confirmar&&passwordForm.password_confirmar!==''?'Las contrase침as no coinciden':''})})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClosePasswordDialog,children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{onClick:handleChangePassword,variant:\"contained\",color:\"warning\",children:\"Cambiar Contrase\\xF1a\"})]})]})]});};export default Usuarios;","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Button","Card","CardContent","Grid","Chip","IconButton","Tooltip","Dialog","DialogTitle","DialogContent","DialogActions","TextField","FormControl","InputLabel","Select","MenuItem","Alert","CircularProgress","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TablePagination","Switch","Add","AddIcon","Edit","EditIcon","Delete","DeleteIcon","Person","PersonIcon","Refresh","RefreshIcon","Visibility","VisibilityIcon","Lock","LockIcon","Search","SearchIcon","useAuth","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Usuarios","user","currentUser","usuarios","setUsuarios","loading","setLoading","error","setError","openDialog","setOpenDialog","openPasswordDialog","setOpenPasswordDialog","editingUsuario","setEditingUsuario","selectedUsuario","setSelectedUsuario","page","setPage","rowsPerPage","setRowsPerPage","searchTerm","setSearchTerm","formData","setFormData","nombre","apellido","email","password","rol","passwordForm","setPasswordForm","password_actual","password_nuevo","password_confirmar","fetchUsuarios","response","get","data","console","handleOpenDialog","usuario","handleCloseDialog","handleOpenPasswordDialog","handleClosePasswordDialog","handleSubmit","updateData","_objectSpread","updateDataWithoutPassword","_objectWithoutProperties","_excluded","put","concat","id_usuario","post","_error$response","_error$response$data","handleChangePassword","length","_error$response2","_error$response2$data","handleDelete","id","window","confirm","delete","_error$response3","_error$response3$data","handleToggleEstado","nuevoEstado","estado","_error$response4","_error$response4$data","filteredUsuarios","filter","toLowerCase","includes","paginatedUsuarios","slice","getRolColor","getRolLabel","formatDateTime","dateString","Date","toLocaleString","display","justifyContent","alignItems","minHeight","children","size","sx","mb","variant","component","gutterBottom","color","fontWeight","gap","startIcon","onClick","bgcolor","container","spacing","item","xs","sm","md","textAlign","u","severity","onClose","fullWidth","placeholder","value","onChange","e","target","InputProps","startAdornment","mr","py","fontSize","opacity","align","map","hover","label","ultimo_acceso","fecha_creacion","title","checked","rowsPerPageOptions","count","onPageChange","_","newPage","onRowsPerPageChange","parseInt","open","maxWidth","mt","required","type","helperText"],"sources":["C:/Users/Asus/Documents/GitHub/Reingenieria/pos_parqueamiento_NEW/client/src/pages/Usuarios/Usuarios.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  Chip,\r\n  IconButton,\r\n  Tooltip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Alert,\r\n  CircularProgress,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  TablePagination,\r\n  Switch,\r\n  FormControlLabel,\r\n  Divider\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Person as PersonIcon,\r\n  Refresh as RefreshIcon,\r\n  Visibility as VisibilityIcon,\r\n  Lock as LockIcon,\r\n  Security as SecurityIcon,\r\n  Search as SearchIcon\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport axios from 'axios';\r\n\r\ninterface Usuario {\r\n  id_usuario: number;\r\n  nombre: string;\r\n  apellido: string;\r\n  email: string;\r\n  rol: 'admin' | 'vendedor' | 'cajero';\r\n  estado: 'activo' | 'inactivo';\r\n  fecha_creacion: string;\r\n  ultimo_acceso?: string;\r\n}\r\n\r\ninterface UsuarioForm {\r\n  nombre: string;\r\n  apellido: string;\r\n  email: string;\r\n  password: string;\r\n  rol: 'admin' | 'vendedor' | 'cajero';\r\n}\r\n\r\ninterface PasswordForm {\r\n  password_actual: string;\r\n  password_nuevo: string;\r\n  password_confirmar: string;\r\n}\r\n\r\nconst Usuarios: React.FC = () => {\r\n  const { user: currentUser } = useAuth();\r\n  const [usuarios, setUsuarios] = useState<Usuario[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [openPasswordDialog, setOpenPasswordDialog] = useState(false);\r\n  const [editingUsuario, setEditingUsuario] = useState<Usuario | null>(null);\r\n  const [selectedUsuario, setSelectedUsuario] = useState<Usuario | null>(null);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const [formData, setFormData] = useState<UsuarioForm>({\r\n    nombre: '',\r\n    apellido: '',\r\n    email: '',\r\n    password: '',\r\n    rol: 'vendedor'\r\n  });\r\n\r\n  const [passwordForm, setPasswordForm] = useState<PasswordForm>({\r\n    password_actual: '',\r\n    password_nuevo: '',\r\n    password_confirmar: ''\r\n  });\r\n\r\n  const fetchUsuarios = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const response = await axios.get('/api/usuarios');\r\n      setUsuarios(response.data.data);\r\n    } catch (error: any) {\r\n      console.error('Error al cargar usuarios:', error);\r\n      setError('Error al cargar los usuarios');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsuarios();\r\n  }, []);\r\n\r\n  const handleOpenDialog = (usuario?: Usuario) => {\r\n    if (usuario) {\r\n      setEditingUsuario(usuario);\r\n      setFormData({\r\n        nombre: usuario.nombre,\r\n        apellido: usuario.apellido,\r\n        email: usuario.email,\r\n        password: '', // No mostrar contrase침a actual\r\n        rol: usuario.rol\r\n      });\r\n    } else {\r\n      setEditingUsuario(null);\r\n      setFormData({\r\n        nombre: '',\r\n        apellido: '',\r\n        email: '',\r\n        password: '',\r\n        rol: 'vendedor'\r\n      });\r\n    }\r\n    setOpenDialog(true);\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setOpenDialog(false);\r\n    setEditingUsuario(null);\r\n    setFormData({\r\n      nombre: '',\r\n      apellido: '',\r\n      email: '',\r\n      password: '',\r\n      rol: 'vendedor'\r\n    });\r\n  };\r\n\r\n  const handleOpenPasswordDialog = (usuario: Usuario) => {\r\n    setSelectedUsuario(usuario);\r\n    setPasswordForm({\r\n      password_actual: '',\r\n      password_nuevo: '',\r\n      password_confirmar: ''\r\n    });\r\n    setOpenPasswordDialog(true);\r\n  };\r\n\r\n  const handleClosePasswordDialog = () => {\r\n    setOpenPasswordDialog(false);\r\n    setSelectedUsuario(null);\r\n    setPasswordForm({\r\n      password_actual: '',\r\n      password_nuevo: '',\r\n      password_confirmar: ''\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      if (editingUsuario) {\r\n        // Para edici칩n, solo enviar password si se proporcion칩 uno nuevo\r\n        const updateData = { ...formData };\r\n        if (!updateData.password) {\r\n          const { password, ...updateDataWithoutPassword } = updateData;\r\n          await axios.put(`/api/usuarios/${editingUsuario.id_usuario}`, updateDataWithoutPassword);\r\n        } else {\r\n          await axios.put(`/api/usuarios/${editingUsuario.id_usuario}`, updateData);\r\n        }\r\n        return;\r\n        await axios.put(`/api/usuarios/${editingUsuario.id_usuario}`, updateData);\r\n      } else {\r\n        await axios.post('/api/usuarios', formData);\r\n      }\r\n      \r\n      fetchUsuarios();\r\n      handleCloseDialog();\r\n    } catch (error: any) {\r\n      console.error('Error al guardar usuario:', error);\r\n      setError(error.response?.data?.error || 'Error al guardar el usuario');\r\n    }\r\n  };\r\n\r\n  const handleChangePassword = async () => {\r\n    try {\r\n      if (passwordForm.password_nuevo !== passwordForm.password_confirmar) {\r\n        setError('Las contrase침as nuevas no coinciden');\r\n        return;\r\n      }\r\n\r\n      if (passwordForm.password_nuevo.length < 6) {\r\n        setError('La contrase침a debe tener al menos 6 caracteres');\r\n        return;\r\n      }\r\n\r\n      await axios.put(`/api/usuarios/${selectedUsuario?.id_usuario}/password`, {\r\n        password_actual: passwordForm.password_actual,\r\n        password_nuevo: passwordForm.password_nuevo\r\n      });\r\n\r\n      handleClosePasswordDialog();\r\n      setError(null);\r\n    } catch (error: any) {\r\n      console.error('Error al cambiar contrase침a:', error);\r\n      setError(error.response?.data?.error || 'Error al cambiar la contrase침a');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (window.confirm('쮼st치s seguro de que quieres eliminar este usuario?')) {\r\n      try {\r\n        await axios.delete(`/api/usuarios/${id}`);\r\n        fetchUsuarios();\r\n      } catch (error: any) {\r\n        console.error('Error al eliminar usuario:', error);\r\n        setError(error.response?.data?.error || 'Error al eliminar el usuario');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleToggleEstado = async (usuario: Usuario) => {\r\n    try {\r\n      const nuevoEstado = usuario.estado === 'activo' ? 'inactivo' : 'activo';\r\n      await axios.put(`/api/usuarios/${usuario.id_usuario}/estado`, { estado: nuevoEstado });\r\n      fetchUsuarios();\r\n    } catch (error: any) {\r\n      console.error('Error al cambiar estado:', error);\r\n      setError(error.response?.data?.error || 'Error al cambiar el estado');\r\n    }\r\n  };\r\n\r\n  const filteredUsuarios = usuarios.filter(usuario =>\r\n    usuario.nombre.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    usuario.apellido.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    usuario.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    usuario.rol.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const paginatedUsuarios = filteredUsuarios.slice(\r\n    page * rowsPerPage,\r\n    page * rowsPerPage + rowsPerPage\r\n  );\r\n\r\n  const getRolColor = (rol: string) => {\r\n    switch (rol) {\r\n      case 'admin':\r\n        return 'error';\r\n      case 'vendedor':\r\n        return 'primary';\r\n      case 'cajero':\r\n        return 'warning';\r\n      default:\r\n        return 'default';\r\n    }\r\n  };\r\n\r\n  const getRolLabel = (rol: string) => {\r\n    switch (rol) {\r\n      case 'admin':\r\n        return 'Administrador';\r\n      case 'vendedor':\r\n        return 'Vendedor';\r\n      case 'cajero':\r\n        return 'Cajero';\r\n      default:\r\n        return rol;\r\n    }\r\n  };\r\n\r\n  const formatDateTime = (dateString: string) => {\r\n    if (!dateString) return 'Nunca';\r\n    return new Date(dateString).toLocaleString('es-PE');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n        <CircularProgress size={60} />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      {/* Header */}\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 4 }}>\r\n        <Box>\r\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ color: '#1976d2', fontWeight: 600 }}>\r\n            游논 Gesti칩n de Usuarios\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"text.secondary\">\r\n            Administra los usuarios del sistema y sus permisos\r\n          </Typography>\r\n        </Box>\r\n        \r\n        <Box sx={{ display: 'flex', gap: 2 }}>\r\n          <Button\r\n            variant=\"outlined\"\r\n            startIcon={<RefreshIcon />}\r\n            onClick={fetchUsuarios}\r\n          >\r\n            Actualizar\r\n          </Button>\r\n          \r\n          {currentUser?.rol === 'admin' && (\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<AddIcon />}\r\n              onClick={() => handleOpenDialog()}\r\n              sx={{ bgcolor: '#1976d2' }}\r\n            >\r\n              Nuevo Usuario\r\n            </Button>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* Estad칤sticas r치pidas */}\r\n      <Grid container spacing={3} sx={{ mb: 4 }}>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"primary\">\r\n                {usuarios.length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Total de Usuarios\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"success.main\">\r\n                {usuarios.filter(u => u.estado === 'activo').length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Usuarios Activos\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"error.main\">\r\n                {usuarios.filter(u => u.rol === 'admin').length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Administradores\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"warning.main\">\r\n                {usuarios.filter(u => u.estado === 'inactivo').length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Usuarios Inactivos\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Mensaje de error */}\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Filtros y b칰squeda */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Grid container spacing={2} alignItems=\"center\">\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                placeholder=\"Buscar por nombre, apellido, email o rol...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                InputProps={{\r\n                  startAdornment: <SearchIcon sx={{ mr: 1, color: 'text.secondary' }} />\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6} textAlign=\"right\">\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                {filteredUsuarios.length} de {usuarios.length} usuarios\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Tabla de usuarios */}\r\n      <Card>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" gutterBottom sx={{ mb: 3 }}>\r\n            Lista de Usuarios\r\n          </Typography>\r\n\r\n          {paginatedUsuarios.length === 0 ? (\r\n            <Box sx={{ textAlign: 'center', py: 4, color: 'text.secondary' }}>\r\n              <PersonIcon sx={{ fontSize: 60, mb: 2, opacity: 0.3 }} />\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                No hay usuarios registrados\r\n              </Typography>\r\n              <Typography variant=\"body2\">\r\n                Comienza agregando el primer usuario del sistema.\r\n              </Typography>\r\n            </Box>\r\n          ) : (\r\n            <>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>ID</TableCell>\r\n                      <TableCell>Nombre</TableCell>\r\n                      <TableCell>Email</TableCell>\r\n                      <TableCell>Rol</TableCell>\r\n                      <TableCell>Estado</TableCell>\r\n                      <TableCell>칔ltimo Acceso</TableCell>\r\n                      <TableCell>Fecha Creaci칩n</TableCell>\r\n                      <TableCell align=\"center\">Acciones</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {paginatedUsuarios.map((usuario) => (\r\n                      <TableRow key={usuario.id_usuario} hover>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\" fontWeight={600}>\r\n                            #{usuario.id_usuario}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\" fontWeight={600}>\r\n                            {usuario.nombre} {usuario.apellido}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\">\r\n                            {usuario.email}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Chip\r\n                            label={getRolLabel(usuario.rol)}\r\n                            color={getRolColor(usuario.rol) as any}\r\n                            size=\"small\"\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Chip\r\n                            label={usuario.estado === 'activo' ? 'Activo' : 'Inactivo'}\r\n                            color={usuario.estado === 'activo' ? 'success' : 'default'}\r\n                            size=\"small\"\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            {usuario.ultimo_acceso ? formatDateTime(usuario.ultimo_acceso) : 'Nunca'}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            {formatDateTime(usuario.fecha_creacion)}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          <Box sx={{ display: 'flex', gap: 1, justifyContent: 'center' }}>\r\n                            <Tooltip title=\"Ver detalles\">\r\n                              <IconButton size=\"small\" color=\"primary\">\r\n                                <VisibilityIcon />\r\n                              </IconButton>\r\n                            </Tooltip>\r\n                            \r\n                            {currentUser?.rol === 'admin' && (\r\n                              <>\r\n                                <Tooltip title=\"Editar\">\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    color=\"primary\"\r\n                                    onClick={() => handleOpenDialog(usuario)}\r\n                                  >\r\n                                    <EditIcon />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                                \r\n                                <Tooltip title=\"Cambiar contrase침a\">\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    color=\"warning\"\r\n                                    onClick={() => handleOpenPasswordDialog(usuario)}\r\n                                  >\r\n                                    <LockIcon />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                                \r\n                                <Tooltip title={usuario.estado === 'activo' ? 'Desactivar' : 'Activar'}>\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    color={usuario.estado === 'activo' ? 'error' : 'success'}\r\n                                    onClick={() => handleToggleEstado(usuario)}\r\n                                  >\r\n                                    <Switch\r\n                                      checked={usuario.estado === 'activo'}\r\n                                      size=\"small\"\r\n                                      onChange={() => handleToggleEstado(usuario)}\r\n                                    />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                                \r\n                                {usuario.id_usuario !== currentUser?.id && (\r\n                                  <Tooltip title=\"Eliminar\">\r\n                                    <IconButton\r\n                                      size=\"small\"\r\n                                      color=\"error\"\r\n                                      onClick={() => handleDelete(usuario.id_usuario)}\r\n                                    >\r\n                                      <DeleteIcon />\r\n                                    </IconButton>\r\n                                  </Tooltip>\r\n                                )}\r\n                              </>\r\n                            )}\r\n                          </Box>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n              <TablePagination\r\n                rowsPerPageOptions={[5, 10, 25]}\r\n                component=\"div\"\r\n                count={filteredUsuarios.length}\r\n                rowsPerPage={rowsPerPage}\r\n                page={page}\r\n                onPageChange={(_, newPage) => setPage(newPage)}\r\n                onRowsPerPageChange={(e) => {\r\n                  setRowsPerPage(parseInt(e.target.value, 10));\r\n                  setPage(0);\r\n                }}\r\n              />\r\n            </>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Dialog para crear/editar usuario */}\r\n      <Dialog open={openDialog} onClose={handleCloseDialog} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n            {editingUsuario ? <EditIcon color=\"primary\" /> : <AddIcon color=\"primary\" />}\r\n            {editingUsuario ? 'Editar Usuario' : 'Nuevo Usuario'}\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Grid container spacing={2} sx={{ mt: 1 }}>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Nombre *\"\r\n                value={formData.nombre}\r\n                onChange={(e) => setFormData({ ...formData, nombre: e.target.value })}\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Apellido *\"\r\n                value={formData.apellido}\r\n                onChange={(e) => setFormData({ ...formData, apellido: e.target.value })}\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Email *\"\r\n                type=\"email\"\r\n                value={formData.email}\r\n                onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl fullWidth required>\r\n                <InputLabel>Rol</InputLabel>\r\n                <Select\r\n                  value={formData.rol}\r\n                  label=\"Rol\"\r\n                  onChange={(e) => setFormData({ ...formData, rol: e.target.value as any })}\r\n                >\r\n                  <MenuItem value=\"vendedor\">Vendedor</MenuItem>\r\n                  <MenuItem value=\"cajero\">Cajero</MenuItem>\r\n                  <MenuItem value=\"admin\">Administrador</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label={editingUsuario ? 'Nueva Contrase침a (dejar en blanco para mantener la actual)' : 'Contrase침a *'}\r\n                type=\"password\"\r\n                value={formData.password}\r\n                onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n                required={!editingUsuario}\r\n                helperText={editingUsuario ? 'Deja en blanco para mantener la contrase침a actual' : 'M칤nimo 6 caracteres'}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCloseDialog}>Cancelar</Button>\r\n          <Button onClick={handleSubmit} variant=\"contained\" sx={{ bgcolor: '#1976d2' }}>\r\n            {editingUsuario ? 'Actualizar' : 'Crear'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dialog para cambiar contrase침a */}\r\n      <Dialog open={openPasswordDialog} onClose={handleClosePasswordDialog} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n            <LockIcon color=\"warning\" />\r\n            Cambiar Contrase침a - {selectedUsuario?.nombre} {selectedUsuario?.apellido}\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Grid container spacing={2} sx={{ mt: 1 }}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Contrase침a Actual *\"\r\n                type=\"password\"\r\n                value={passwordForm.password_actual}\r\n                onChange={(e) => setPasswordForm({ ...passwordForm, password_actual: e.target.value })}\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Nueva Contrase침a *\"\r\n                type=\"password\"\r\n                value={passwordForm.password_nuevo}\r\n                onChange={(e) => setPasswordForm({ ...passwordForm, password_nuevo: e.target.value })}\r\n                required\r\n                helperText=\"M칤nimo 6 caracteres\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Confirmar Nueva Contrase침a *\"\r\n                type=\"password\"\r\n                value={passwordForm.password_confirmar}\r\n                onChange={(e) => setPasswordForm({ ...passwordForm, password_confirmar: e.target.value })}\r\n                required\r\n                error={passwordForm.password_nuevo !== passwordForm.password_confirmar && passwordForm.password_confirmar !== ''}\r\n                helperText={passwordForm.password_nuevo !== passwordForm.password_confirmar && passwordForm.password_confirmar !== '' ? 'Las contrase침as no coinciden' : ''}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClosePasswordDialog}>Cancelar</Button>\r\n          <Button onClick={handleChangePassword} variant=\"contained\" color=\"warning\">\r\n            Cambiar Contrase침a\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Usuarios;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}