{"ast":null,"code":"import _objectSpread from\"C:/Users/Asus/Documents/GitHub/Reingenieria/pos_parqueamiento_NEW/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Box,Typography,Button,Card,CardContent,Grid,Chip,IconButton,Tooltip,Dialog,DialogTitle,DialogContent,DialogActions,TextField,FormControl,InputLabel,Select,MenuItem,Alert,CircularProgress,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,TablePagination}from'@mui/material';import{Add as AddIcon,Receipt as ReceiptIcon,Refresh as RefreshIcon,CheckCircle as CheckCircleIcon,Cancel as CancelIcon,Visibility as VisibilityIcon}from'@mui/icons-material';import{useAuth}from'../../contexts/AuthContext';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Ventas=()=>{const{user}=useAuth();const[ventas,setVentas]=useState([]);const[espacios,setEspacios]=useState([]);const[clientes,setClientes]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[openDialog,setOpenDialog]=useState(false);const[openFinalizarDialog,setOpenFinalizarDialog]=useState(false);const[openCancelarDialog,setOpenCancelarDialog]=useState(false);const[selectedVenta,setSelectedVenta]=useState(null);const[page,setPage]=useState(0);const[rowsPerPage,setRowsPerPage]=useState(10);const[searchTerm,setSearchTerm]=useState('');const[formData,setFormData]=useState({id_espacio:0,id_cliente:undefined,placa_vehiculo:'',tipo_vehiculo:'auto',observaciones:''});const[finalizarForm,setFinalizarForm]=useState({observaciones_salida:''});const[cancelarForm,setCancelarForm]=useState({motivo_cancelacion:''});const fetchData=async()=>{try{setLoading(true);setError(null);const[ventasResponse,espaciosResponse,clientesResponse]=await Promise.all([axios.get('/api/ventas'),axios.get('/api/espacios/libres'),axios.get('/api/clientes')]);setVentas(ventasResponse.data.data);setEspacios(espaciosResponse.data.data);setClientes(clientesResponse.data.data);}catch(error){console.error('Error al cargar datos:',error);setError('Error al cargar los datos');}finally{setLoading(false);}};useEffect(()=>{fetchData();},[]);const handleOpenDialog=()=>{setFormData({id_espacio:0,id_cliente:undefined,placa_vehiculo:'',tipo_vehiculo:'auto',observaciones:''});setOpenDialog(true);};const handleCloseDialog=()=>{setOpenDialog(false);setFormData({id_espacio:0,id_cliente:undefined,placa_vehiculo:'',tipo_vehiculo:'auto',observaciones:''});};const handleSubmit=async()=>{try{if(!formData.id_espacio||!formData.placa_vehiculo){setError('Por favor complete todos los campos requeridos');return;}await axios.post('/api/ventas',formData);fetchData();handleCloseDialog();}catch(error){var _error$response,_error$response$data;console.error('Error al crear venta:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Error al crear la venta');}};const handleFinalizar=async()=>{if(!selectedVenta)return;try{await axios.put(\"/api/ventas/\".concat(selectedVenta.id_venta,\"/finalizar\"),finalizarForm);fetchData();setOpenFinalizarDialog(false);setSelectedVenta(null);setFinalizarForm({observaciones_salida:''});}catch(error){var _error$response2,_error$response2$data;console.error('Error al finalizar venta:',error);setError(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Error al finalizar la venta');}};const handleCancelar=async()=>{if(!selectedVenta)return;try{await axios.put(\"/api/ventas/\".concat(selectedVenta.id_venta,\"/cancelar\"),cancelarForm);fetchData();setOpenCancelarDialog(false);setSelectedVenta(null);setCancelarForm({motivo_cancelacion:''});}catch(error){var _error$response3,_error$response3$data;console.error('Error al cancelar venta:',error);setError(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||'Error al cancelar la venta');}};const openFinalizarVenta=venta=>{setSelectedVenta(venta);setOpenFinalizarDialog(true);};const openCancelarVenta=venta=>{setSelectedVenta(venta);setOpenCancelarDialog(true);};const filteredVentas=ventas.filter(venta=>{var _venta$numero_espacio,_venta$nombre_cliente,_venta$apellido_clien;return venta.placa_vehiculo.toLowerCase().includes(searchTerm.toLowerCase())||((_venta$numero_espacio=venta.numero_espacio)===null||_venta$numero_espacio===void 0?void 0:_venta$numero_espacio.toLowerCase().includes(searchTerm.toLowerCase()))||((_venta$nombre_cliente=venta.nombre_cliente)===null||_venta$nombre_cliente===void 0?void 0:_venta$nombre_cliente.toLowerCase().includes(searchTerm.toLowerCase()))||((_venta$apellido_clien=venta.apellido_cliente)===null||_venta$apellido_clien===void 0?void 0:_venta$apellido_clien.toLowerCase().includes(searchTerm.toLowerCase()));});const paginatedVentas=filteredVentas.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage);const getStatusColor=estado=>{switch(estado){case'activa':return'warning';case'finalizada':return'success';case'cancelada':return'error';default:return'default';}};const getStatusLabel=estado=>{switch(estado){case'activa':return'Activa';case'finalizada':return'Finalizada';case'cancelada':return'Cancelada';default:return estado;}};const formatCurrency=amount=>{return new Intl.NumberFormat('es-PE',{style:'currency',currency:'PEN'}).format(amount);};const formatTime=minutes=>{const hours=Math.floor(minutes/60);const mins=minutes%60;return\"\".concat(hours,\"h \").concat(mins,\"m\");};if(loading){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"400px\",children:/*#__PURE__*/_jsx(CircularProgress,{size:60})});}return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:4},children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,sx:{color:'#1976d2',fontWeight:600},children:\"\\uD83D\\uDCB0 Gesti\\xF3n de Ventas\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:\"Administra las ventas y facturaci\\xF3n del sistema\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:handleOpenDialog,sx:{bgcolor:'#1976d2'},children:\"Nueva Venta\"})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mb:4},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"primary\",children:ventas.length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Total de Ventas\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"warning.main\",children:ventas.filter(v=>v.estado==='activa').length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Ventas Activas\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"success.main\",children:ventas.filter(v=>v.estado==='finalizada').length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Ventas Finalizadas\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"error.main\",children:ventas.filter(v=>v.estado==='cancelada').length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Ventas Canceladas\"})]})})})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},onClose:()=>setError(null),children:error}),/*#__PURE__*/_jsx(Card,{sx:{mb:3},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,placeholder:\"Buscar por placa, espacio o cliente...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),InputProps:{startAdornment:/*#__PURE__*/_jsx(ReceiptIcon,{sx:{mr:1,color:'text.secondary'}})}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,textAlign:\"right\",children:/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(RefreshIcon,{}),onClick:fetchData,variant:\"outlined\",children:\"Actualizar\"})})]})})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,sx:{mb:3},children:\"Lista de Ventas\"}),paginatedVentas.length===0?/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',py:4,color:'text.secondary'},children:[/*#__PURE__*/_jsx(ReceiptIcon,{sx:{fontSize:60,mb:2,opacity:0.3}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"No hay ventas registradas\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Comienza creando la primera venta de parqueamiento.\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Fecha\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Espacio\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Veh\\xEDculo\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Cliente\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Estado\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Monto\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:paginatedVentas.map(venta=>/*#__PURE__*/_jsxs(TableRow,{hover:true,children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",fontWeight:600,children:[\"#\",venta.id_venta]})}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:new Date(venta.fecha_venta).toLocaleDateString()}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:new Date(venta.hora_entrada).toLocaleTimeString()})]}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:venta.numero_espacio||'N/A',color:\"primary\",size:\"small\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:600,children:venta.placa_vehiculo}),/*#__PURE__*/_jsx(Chip,{label:venta.tipo_vehiculo,color:\"secondary\",size:\"small\"})]})}),/*#__PURE__*/_jsx(TableCell,{children:venta.nombre_cliente?/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[venta.nombre_cliente,\" \",venta.apellido_cliente]}):/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Sin cliente\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:getStatusLabel(venta.estado),color:getStatusColor(venta.estado),size:\"small\"})}),/*#__PURE__*/_jsx(TableCell,{children:venta.monto_total?/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:600,color:\"success.main\",children:formatCurrency(venta.monto_total)}):/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Pendiente\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1},children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Ver detalles\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",color:\"primary\",children:/*#__PURE__*/_jsx(VisibilityIcon,{})})}),venta.estado==='activa'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Finalizar venta\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",color:\"success\",onClick:()=>openFinalizarVenta(venta),children:/*#__PURE__*/_jsx(CheckCircleIcon,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Cancelar venta\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",color:\"error\",onClick:()=>openCancelarVenta(venta),children:/*#__PURE__*/_jsx(CancelIcon,{})})})]})]})})]},venta.id_venta))})]})}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[5,10,25],component:\"div\",count:filteredVentas.length,rowsPerPage:rowsPerPage,page:page,onPageChange:(_,newPage)=>setPage(newPage),onRowsPerPageChange:e=>{setRowsPerPage(parseInt(e.target.value,10));setPage(0);}})]})]})}),/*#__PURE__*/_jsxs(Dialog,{open:openDialog,onClose:handleCloseDialog,maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(AddIcon,{color:\"primary\"}),\"Nueva Venta de Parqueamiento\"]})}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,sx:{mt:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,required:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Espacio\"}),/*#__PURE__*/_jsx(Select,{value:formData.id_espacio,label:\"Espacio\",onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{id_espacio:e.target.value})),children:espacios.map(espacio=>/*#__PURE__*/_jsxs(MenuItem,{value:espacio.id_espacio,children:[espacio.numero_espacio,\" - \",espacio.tipo_vehiculo,\" (S/ \",espacio.tarifa_hora,\"/h)\"]},espacio.id_espacio))})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Cliente (Opcional)\"}),/*#__PURE__*/_jsxs(Select,{value:formData.id_cliente||'',label:\"Cliente (Opcional)\",onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{id_cliente:e.target.value||undefined})),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"Sin cliente\"}),clientes.map(cliente=>/*#__PURE__*/_jsxs(MenuItem,{value:cliente.idCliente,children:[cliente.Nombre_Cliente,\" \",cliente.Apellido_Cliente]},cliente.idCliente))]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Placa del Veh\\xEDculo *\",value:formData.placa_vehiculo,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{placa_vehiculo:e.target.value.toUpperCase()})),required:true,placeholder:\"ABC-123\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,required:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Tipo de Veh\\xEDculo\"}),/*#__PURE__*/_jsxs(Select,{value:formData.tipo_vehiculo,label:\"Tipo de Veh\\xEDculo\",onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{tipo_vehiculo:e.target.value})),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"auto\",children:\"Auto\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"camioneta\",children:\"Camioneta\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"camion\",children:\"Cami\\xF3n\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"moto\",children:\"Moto\"})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Observaciones\",value:formData.observaciones,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{observaciones:e.target.value})),multiline:true,rows:3,placeholder:\"Observaciones adicionales sobre la venta...\"})})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseDialog,children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,variant:\"contained\",sx:{bgcolor:'#1976d2'},children:\"Crear Venta\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:openFinalizarDialog,onClose:()=>setOpenFinalizarDialog(false),maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(CheckCircleIcon,{color:\"success\"}),\"Finalizar Venta #\",selectedVenta===null||selectedVenta===void 0?void 0:selectedVenta.id_venta]})}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",gutterBottom:true,children:\"\\xBFEst\\xE1s seguro de que quieres finalizar esta venta?\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:2},children:\"Se calcular\\xE1 el monto total basado en el tiempo transcurrido.\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Observaciones de Salida\",value:finalizarForm.observaciones_salida,onChange:e=>setFinalizarForm({observaciones_salida:e.target.value}),multiline:true,rows:3,placeholder:\"Observaciones sobre la salida del veh\\xEDculo...\"})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setOpenFinalizarDialog(false),children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{onClick:handleFinalizar,variant:\"contained\",color:\"success\",children:\"Finalizar Venta\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:openCancelarDialog,onClose:()=>setOpenCancelarDialog(false),maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(CancelIcon,{color:\"error\"}),\"Cancelar Venta #\",selectedVenta===null||selectedVenta===void 0?void 0:selectedVenta.id_venta]})}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",gutterBottom:true,children:\"\\xBFEst\\xE1s seguro de que quieres cancelar esta venta?\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:2},children:\"Esta acci\\xF3n liberar\\xE1 el espacio de parqueamiento.\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Motivo de Cancelaci\\xF3n *\",value:cancelarForm.motivo_cancelacion,onChange:e=>setCancelarForm({motivo_cancelacion:e.target.value}),multiline:true,rows:3,placeholder:\"Especifica el motivo de la cancelaci\\xF3n...\",required:true})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setOpenCancelarDialog(false),children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{onClick:handleCancelar,variant:\"contained\",color:\"error\",children:\"Cancelar Venta\"})]})]})]});};export default Ventas;","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Button","Card","CardContent","Grid","Chip","IconButton","Tooltip","Dialog","DialogTitle","DialogContent","DialogActions","TextField","FormControl","InputLabel","Select","MenuItem","Alert","CircularProgress","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TablePagination","Add","AddIcon","Receipt","ReceiptIcon","Refresh","RefreshIcon","CheckCircle","CheckCircleIcon","Cancel","CancelIcon","Visibility","VisibilityIcon","useAuth","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Ventas","user","ventas","setVentas","espacios","setEspacios","clientes","setClientes","loading","setLoading","error","setError","openDialog","setOpenDialog","openFinalizarDialog","setOpenFinalizarDialog","openCancelarDialog","setOpenCancelarDialog","selectedVenta","setSelectedVenta","page","setPage","rowsPerPage","setRowsPerPage","searchTerm","setSearchTerm","formData","setFormData","id_espacio","id_cliente","undefined","placa_vehiculo","tipo_vehiculo","observaciones","finalizarForm","setFinalizarForm","observaciones_salida","cancelarForm","setCancelarForm","motivo_cancelacion","fetchData","ventasResponse","espaciosResponse","clientesResponse","Promise","all","get","data","console","handleOpenDialog","handleCloseDialog","handleSubmit","post","_error$response","_error$response$data","response","handleFinalizar","put","concat","id_venta","_error$response2","_error$response2$data","handleCancelar","_error$response3","_error$response3$data","openFinalizarVenta","venta","openCancelarVenta","filteredVentas","filter","_venta$numero_espacio","_venta$nombre_cliente","_venta$apellido_clien","toLowerCase","includes","numero_espacio","nombre_cliente","apellido_cliente","paginatedVentas","slice","getStatusColor","estado","getStatusLabel","formatCurrency","amount","Intl","NumberFormat","style","currency","format","formatTime","minutes","hours","Math","floor","mins","display","justifyContent","alignItems","minHeight","children","size","sx","mb","variant","component","gutterBottom","color","fontWeight","startIcon","onClick","bgcolor","container","spacing","item","xs","sm","md","textAlign","length","v","severity","onClose","fullWidth","placeholder","value","onChange","e","target","InputProps","startAdornment","mr","py","fontSize","opacity","map","hover","Date","fecha_venta","toLocaleDateString","hora_entrada","toLocaleTimeString","label","monto_total","gap","title","rowsPerPageOptions","count","onPageChange","_","newPage","onRowsPerPageChange","parseInt","open","maxWidth","mt","required","_objectSpread","espacio","tarifa_hora","cliente","idCliente","Nombre_Cliente","Apellido_Cliente","toUpperCase","multiline","rows"],"sources":["C:/Users/Asus/Documents/GitHub/Reingenieria/pos_parqueamiento_NEW/client/src/pages/Ventas/Ventas.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  Chip,\r\n  IconButton,\r\n  Tooltip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Alert,\r\n  CircularProgress,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  TablePagination,\r\n  Fab,\r\n  Divider\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Receipt as ReceiptIcon,\r\n  LocalParking as ParkingIcon,\r\n  DirectionsCar as CarIcon,\r\n  Person as PersonIcon,\r\n  Refresh as RefreshIcon,\r\n  CheckCircle as CheckCircleIcon,\r\n  Cancel as CancelIcon,\r\n  Visibility as VisibilityIcon\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport axios from 'axios';\r\n\r\ninterface Venta {\r\n  id_venta: number;\r\n  fecha_venta: string;\r\n  hora_entrada: string;\r\n  hora_salida?: string;\r\n  tiempo_total?: number;\r\n  tarifa_hora: number;\r\n  monto_total?: number;\r\n  estado: 'activa' | 'finalizada' | 'cancelada';\r\n  id_cliente?: number;\r\n  id_espacio: number;\r\n  id_usuario: number;\r\n  placa_vehiculo: string;\r\n  tipo_vehiculo: string;\r\n  observaciones?: string;\r\n  observaciones_salida?: string;\r\n  motivo_cancelacion?: string;\r\n  // Campos relacionados\r\n  nombre_cliente?: string;\r\n  apellido_cliente?: string;\r\n  numero_espacio?: string;\r\n  nombre_usuario?: string;\r\n}\r\n\r\ninterface VentaForm {\r\n  id_espacio: number;\r\n  id_cliente?: number;\r\n  placa_vehiculo: string;\r\n  tipo_vehiculo: string;\r\n  observaciones: string;\r\n}\r\n\r\ninterface Espacio {\r\n  id_espacio: number;\r\n  numero_espacio: string;\r\n  tipo_vehiculo: string;\r\n  tarifa_hora: number;\r\n  estado: string;\r\n}\r\n\r\ninterface Cliente {\r\n  idCliente: number;\r\n  Nombre_Cliente: string;\r\n  Apellido_Cliente: string;\r\n  ruc_Cliente?: string;\r\n}\r\n\r\nconst Ventas: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [ventas, setVentas] = useState<Venta[]>([]);\r\n  const [espacios, setEspacios] = useState<Espacio[]>([]);\r\n  const [clientes, setClientes] = useState<Cliente[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [openFinalizarDialog, setOpenFinalizarDialog] = useState(false);\r\n  const [openCancelarDialog, setOpenCancelarDialog] = useState(false);\r\n  const [selectedVenta, setSelectedVenta] = useState<Venta | null>(null);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const [formData, setFormData] = useState<VentaForm>({\r\n    id_espacio: 0,\r\n    id_cliente: undefined,\r\n    placa_vehiculo: '',\r\n    tipo_vehiculo: 'auto',\r\n    observaciones: ''\r\n  });\r\n\r\n  const [finalizarForm, setFinalizarForm] = useState({\r\n    observaciones_salida: ''\r\n  });\r\n\r\n  const [cancelarForm, setCancelarForm] = useState({\r\n    motivo_cancelacion: ''\r\n  });\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const [ventasResponse, espaciosResponse, clientesResponse] = await Promise.all([\r\n        axios.get('/api/ventas'),\r\n        axios.get('/api/espacios/libres'),\r\n        axios.get('/api/clientes')\r\n      ]);\r\n\r\n      setVentas(ventasResponse.data.data);\r\n      setEspacios(espaciosResponse.data.data);\r\n      setClientes(clientesResponse.data.data);\r\n    } catch (error: any) {\r\n      console.error('Error al cargar datos:', error);\r\n      setError('Error al cargar los datos');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleOpenDialog = () => {\r\n    setFormData({\r\n      id_espacio: 0,\r\n      id_cliente: undefined,\r\n      placa_vehiculo: '',\r\n      tipo_vehiculo: 'auto',\r\n      observaciones: ''\r\n    });\r\n    setOpenDialog(true);\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setOpenDialog(false);\r\n    setFormData({\r\n      id_espacio: 0,\r\n      id_cliente: undefined,\r\n      placa_vehiculo: '',\r\n      tipo_vehiculo: 'auto',\r\n      observaciones: ''\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      if (!formData.id_espacio || !formData.placa_vehiculo) {\r\n        setError('Por favor complete todos los campos requeridos');\r\n        return;\r\n      }\r\n\r\n      await axios.post('/api/ventas', formData);\r\n      fetchData();\r\n      handleCloseDialog();\r\n    } catch (error: any) {\r\n      console.error('Error al crear venta:', error);\r\n      setError(error.response?.data?.error || 'Error al crear la venta');\r\n    }\r\n  };\r\n\r\n  const handleFinalizar = async () => {\r\n    if (!selectedVenta) return;\r\n    \r\n    try {\r\n      await axios.put(`/api/ventas/${selectedVenta.id_venta}/finalizar`, finalizarForm);\r\n      fetchData();\r\n      setOpenFinalizarDialog(false);\r\n      setSelectedVenta(null);\r\n      setFinalizarForm({ observaciones_salida: '' });\r\n    } catch (error: any) {\r\n      console.error('Error al finalizar venta:', error);\r\n      setError(error.response?.data?.error || 'Error al finalizar la venta');\r\n    }\r\n  };\r\n\r\n  const handleCancelar = async () => {\r\n    if (!selectedVenta) return;\r\n    \r\n    try {\r\n      await axios.put(`/api/ventas/${selectedVenta.id_venta}/cancelar`, cancelarForm);\r\n      fetchData();\r\n      setOpenCancelarDialog(false);\r\n      setSelectedVenta(null);\r\n      setCancelarForm({ motivo_cancelacion: '' });\r\n    } catch (error: any) {\r\n      console.error('Error al cancelar venta:', error);\r\n      setError(error.response?.data?.error || 'Error al cancelar la venta');\r\n    }\r\n  };\r\n\r\n  const openFinalizarVenta = (venta: Venta) => {\r\n    setSelectedVenta(venta);\r\n    setOpenFinalizarDialog(true);\r\n  };\r\n\r\n  const openCancelarVenta = (venta: Venta) => {\r\n    setSelectedVenta(venta);\r\n    setOpenCancelarDialog(true);\r\n  };\r\n\r\n  const filteredVentas = ventas.filter(venta =>\r\n    venta.placa_vehiculo.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    venta.numero_espacio?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    venta.nombre_cliente?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    venta.apellido_cliente?.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const paginatedVentas = filteredVentas.slice(\r\n    page * rowsPerPage,\r\n    page * rowsPerPage + rowsPerPage\r\n  );\r\n\r\n  const getStatusColor = (estado: string) => {\r\n    switch (estado) {\r\n      case 'activa':\r\n        return 'warning';\r\n      case 'finalizada':\r\n        return 'success';\r\n      case 'cancelada':\r\n        return 'error';\r\n      default:\r\n        return 'default';\r\n    }\r\n  };\r\n\r\n  const getStatusLabel = (estado: string) => {\r\n    switch (estado) {\r\n      case 'activa':\r\n        return 'Activa';\r\n      case 'finalizada':\r\n        return 'Finalizada';\r\n      case 'cancelada':\r\n        return 'Cancelada';\r\n      default:\r\n        return estado;\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (amount: number) => {\r\n    return new Intl.NumberFormat('es-PE', {\r\n      style: 'currency',\r\n      currency: 'PEN'\r\n    }).format(amount);\r\n  };\r\n\r\n  const formatTime = (minutes: number) => {\r\n    const hours = Math.floor(minutes / 60);\r\n    const mins = minutes % 60;\r\n    return `${hours}h ${mins}m`;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n        <CircularProgress size={60} />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      {/* Header */}\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 4 }}>\r\n        <Box>\r\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ color: '#1976d2', fontWeight: 600 }}>\r\n            💰 Gestión de Ventas\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"text.secondary\">\r\n            Administra las ventas y facturación del sistema\r\n          </Typography>\r\n        </Box>\r\n        \r\n        <Button\r\n          variant=\"contained\"\r\n          startIcon={<AddIcon />}\r\n          onClick={handleOpenDialog}\r\n          sx={{ bgcolor: '#1976d2' }}\r\n        >\r\n          Nueva Venta\r\n        </Button>\r\n      </Box>\r\n\r\n      {/* Estadísticas rápidas */}\r\n      <Grid container spacing={3} sx={{ mb: 4 }}>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"primary\">\r\n                {ventas.length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Total de Ventas\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"warning.main\">\r\n                {ventas.filter(v => v.estado === 'activa').length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Ventas Activas\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"success.main\">\r\n                {ventas.filter(v => v.estado === 'finalizada').length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Ventas Finalizadas\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"error.main\">\r\n                {ventas.filter(v => v.estado === 'cancelada').length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Ventas Canceladas\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Mensaje de error */}\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Filtros y búsqueda */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Grid container spacing={2} alignItems=\"center\">\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                placeholder=\"Buscar por placa, espacio o cliente...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                InputProps={{\r\n                  startAdornment: <ReceiptIcon sx={{ mr: 1, color: 'text.secondary' }} />\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6} textAlign=\"right\">\r\n              <Button\r\n                startIcon={<RefreshIcon />}\r\n                onClick={fetchData}\r\n                variant=\"outlined\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Tabla de ventas */}\r\n      <Card>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" gutterBottom sx={{ mb: 3 }}>\r\n            Lista de Ventas\r\n          </Typography>\r\n\r\n          {paginatedVentas.length === 0 ? (\r\n            <Box sx={{ textAlign: 'center', py: 4, color: 'text.secondary' }}>\r\n              <ReceiptIcon sx={{ fontSize: 60, mb: 2, opacity: 0.3 }} />\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                No hay ventas registradas\r\n              </Typography>\r\n              <Typography variant=\"body2\">\r\n                Comienza creando la primera venta de parqueamiento.\r\n              </Typography>\r\n            </Box>\r\n          ) : (\r\n            <>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>ID</TableCell>\r\n                      <TableCell>Fecha</TableCell>\r\n                      <TableCell>Espacio</TableCell>\r\n                      <TableCell>Vehículo</TableCell>\r\n                      <TableCell>Cliente</TableCell>\r\n                      <TableCell>Estado</TableCell>\r\n                      <TableCell>Monto</TableCell>\r\n                      <TableCell>Acciones</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {paginatedVentas.map((venta) => (\r\n                      <TableRow key={venta.id_venta} hover>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\" fontWeight={600}>\r\n                            #{venta.id_venta}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\">\r\n                            {new Date(venta.fecha_venta).toLocaleDateString()}\r\n                          </Typography>\r\n                          <Typography variant=\"caption\" color=\"text.secondary\">\r\n                            {new Date(venta.hora_entrada).toLocaleTimeString()}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Chip \r\n                            label={venta.numero_espacio || 'N/A'} \r\n                            color=\"primary\" \r\n                            size=\"small\"\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Box>\r\n                            <Typography variant=\"body2\" fontWeight={600}>\r\n                              {venta.placa_vehiculo}\r\n                            </Typography>\r\n                            <Chip \r\n                              label={venta.tipo_vehiculo} \r\n                              color=\"secondary\" \r\n                              size=\"small\"\r\n                            />\r\n                          </Box>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          {venta.nombre_cliente ? (\r\n                            <Typography variant=\"body2\">\r\n                              {venta.nombre_cliente} {venta.apellido_cliente}\r\n                            </Typography>\r\n                          ) : (\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                              Sin cliente\r\n                            </Typography>\r\n                          )}\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Chip\r\n                            label={getStatusLabel(venta.estado)}\r\n                            color={getStatusColor(venta.estado) as any}\r\n                            size=\"small\"\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          {venta.monto_total ? (\r\n                            <Typography variant=\"body2\" fontWeight={600} color=\"success.main\">\r\n                              {formatCurrency(venta.monto_total)}\r\n                            </Typography>\r\n                          ) : (\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                              Pendiente\r\n                            </Typography>\r\n                          )}\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Box sx={{ display: 'flex', gap: 1 }}>\r\n                            <Tooltip title=\"Ver detalles\">\r\n                              <IconButton size=\"small\" color=\"primary\">\r\n                                <VisibilityIcon />\r\n                              </IconButton>\r\n                            </Tooltip>\r\n                            \r\n                            {venta.estado === 'activa' && (\r\n                              <>\r\n                                <Tooltip title=\"Finalizar venta\">\r\n                                  <IconButton \r\n                                    size=\"small\" \r\n                                    color=\"success\"\r\n                                    onClick={() => openFinalizarVenta(venta)}\r\n                                  >\r\n                                    <CheckCircleIcon />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                                \r\n                                <Tooltip title=\"Cancelar venta\">\r\n                                  <IconButton \r\n                                    size=\"small\" \r\n                                    color=\"error\"\r\n                                    onClick={() => openCancelarVenta(venta)}\r\n                                  >\r\n                                    <CancelIcon />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                              </>\r\n                            )}\r\n                          </Box>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n              <TablePagination\r\n                rowsPerPageOptions={[5, 10, 25]}\r\n                component=\"div\"\r\n                count={filteredVentas.length}\r\n                rowsPerPage={rowsPerPage}\r\n                page={page}\r\n                onPageChange={(_, newPage) => setPage(newPage)}\r\n                onRowsPerPageChange={(e) => {\r\n                  setRowsPerPage(parseInt(e.target.value, 10));\r\n                  setPage(0);\r\n                }}\r\n              />\r\n            </>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Dialog para crear nueva venta */}\r\n      <Dialog open={openDialog} onClose={handleCloseDialog} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n            <AddIcon color=\"primary\" />\r\n            Nueva Venta de Parqueamiento\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Grid container spacing={2} sx={{ mt: 1 }}>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl fullWidth required>\r\n                <InputLabel>Espacio</InputLabel>\r\n                <Select\r\n                  value={formData.id_espacio}\r\n                  label=\"Espacio\"\r\n                  onChange={(e) => setFormData({ ...formData, id_espacio: e.target.value as number })}\r\n                >\r\n                  {espacios.map((espacio) => (\r\n                    <MenuItem key={espacio.id_espacio} value={espacio.id_espacio}>\r\n                      {espacio.numero_espacio} - {espacio.tipo_vehiculo} (S/ {espacio.tarifa_hora}/h)\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} md={6}>\r\n              <FormControl fullWidth>\r\n                <InputLabel>Cliente (Opcional)</InputLabel>\r\n                <Select\r\n                  value={formData.id_cliente || ''}\r\n                  label=\"Cliente (Opcional)\"\r\n                  onChange={(e) => setFormData({ ...formData, id_cliente: e.target.value as number || undefined })}\r\n                >\r\n                  <MenuItem value=\"\">Sin cliente</MenuItem>\r\n                  {clientes.map((cliente) => (\r\n                    <MenuItem key={cliente.idCliente} value={cliente.idCliente}>\r\n                      {cliente.Nombre_Cliente} {cliente.Apellido_Cliente}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Placa del Vehículo *\"\r\n                value={formData.placa_vehiculo}\r\n                onChange={(e) => setFormData({ ...formData, placa_vehiculo: e.target.value.toUpperCase() })}\r\n                required\r\n                placeholder=\"ABC-123\"\r\n              />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} md={6}>\r\n              <FormControl fullWidth required>\r\n                <InputLabel>Tipo de Vehículo</InputLabel>\r\n                <Select\r\n                  value={formData.tipo_vehiculo}\r\n                  label=\"Tipo de Vehículo\"\r\n                  onChange={(e) => setFormData({ ...formData, tipo_vehiculo: e.target.value as string })}\r\n                >\r\n                  <MenuItem value=\"auto\">Auto</MenuItem>\r\n                  <MenuItem value=\"camioneta\">Camioneta</MenuItem>\r\n                  <MenuItem value=\"camion\">Camión</MenuItem>\r\n                  <MenuItem value=\"moto\">Moto</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Observaciones\"\r\n                value={formData.observaciones}\r\n                onChange={(e) => setFormData({ ...formData, observaciones: e.target.value })}\r\n                multiline\r\n                rows={3}\r\n                placeholder=\"Observaciones adicionales sobre la venta...\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCloseDialog}>Cancelar</Button>\r\n          <Button onClick={handleSubmit} variant=\"contained\" sx={{ bgcolor: '#1976d2' }}>\r\n            Crear Venta\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dialog para finalizar venta */}\r\n      <Dialog open={openFinalizarDialog} onClose={() => setOpenFinalizarDialog(false)} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n            <CheckCircleIcon color=\"success\" />\r\n            Finalizar Venta #{selectedVenta?.id_venta}\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Box sx={{ mt: 2 }}>\r\n            <Typography variant=\"body1\" gutterBottom>\r\n              ¿Estás seguro de que quieres finalizar esta venta?\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n              Se calculará el monto total basado en el tiempo transcurrido.\r\n            </Typography>\r\n            \r\n            <TextField\r\n              fullWidth\r\n              label=\"Observaciones de Salida\"\r\n              value={finalizarForm.observaciones_salida}\r\n              onChange={(e) => setFinalizarForm({ observaciones_salida: e.target.value })}\r\n              multiline\r\n              rows={3}\r\n              placeholder=\"Observaciones sobre la salida del vehículo...\"\r\n            />\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenFinalizarDialog(false)}>Cancelar</Button>\r\n          <Button onClick={handleFinalizar} variant=\"contained\" color=\"success\">\r\n            Finalizar Venta\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dialog para cancelar venta */}\r\n      <Dialog open={openCancelarDialog} onClose={() => setOpenCancelarDialog(false)} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n            <CancelIcon color=\"error\" />\r\n            Cancelar Venta #{selectedVenta?.id_venta}\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Box sx={{ mt: 2 }}>\r\n            <Typography variant=\"body1\" gutterBottom>\r\n              ¿Estás seguro de que quieres cancelar esta venta?\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n              Esta acción liberará el espacio de parqueamiento.\r\n            </Typography>\r\n            \r\n            <TextField\r\n              fullWidth\r\n              label=\"Motivo de Cancelación *\"\r\n              value={cancelarForm.motivo_cancelacion}\r\n              onChange={(e) => setCancelarForm({ motivo_cancelacion: e.target.value })}\r\n              multiline\r\n              rows={3}\r\n              placeholder=\"Especifica el motivo de la cancelación...\"\r\n              required\r\n            />\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenCancelarDialog(false)}>Cancelar</Button>\r\n          <Button onClick={handleCancelar} variant=\"contained\" color=\"error\">\r\n            Cancelar Venta\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Ventas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}