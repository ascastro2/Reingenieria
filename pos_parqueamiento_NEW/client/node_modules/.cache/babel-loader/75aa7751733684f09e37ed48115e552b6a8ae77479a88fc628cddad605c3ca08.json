{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Documents\\\\GitHub\\\\Reingenieria\\\\pos_parqueamiento_NEW\\\\client\\\\src\\\\pages\\\\Usuarios\\\\Usuarios.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Typography, Button, Card, CardContent, Grid, Chip, IconButton, Tooltip, Dialog, DialogTitle, DialogContent, DialogActions, TextField, FormControl, InputLabel, Select, MenuItem, Alert, CircularProgress, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TablePagination, Switch } from '@mui/material';\nimport { Add as AddIcon, Edit as EditIcon, Delete as DeleteIcon, Person as PersonIcon, Refresh as RefreshIcon, Visibility as VisibilityIcon, Lock as LockIcon, Search as SearchIcon } from '@mui/icons-material';\nimport { useAuth } from '../../contexts/AuthContext';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Usuarios = () => {\n  _s();\n  const {\n    user: currentUser\n  } = useAuth();\n  const [usuarios, setUsuarios] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [openPasswordDialog, setOpenPasswordDialog] = useState(false);\n  const [editingUsuario, setEditingUsuario] = useState(null);\n  const [selectedUsuario, setSelectedUsuario] = useState(null);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [formData, setFormData] = useState({\n    nombre: '',\n    apellido: '',\n    email: '',\n    password: '',\n    rol: 'vendedor'\n  });\n  const [passwordForm, setPasswordForm] = useState({\n    password_actual: '',\n    password_nuevo: '',\n    password_confirmar: ''\n  });\n  const fetchUsuarios = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await axios.get('/api/usuarios');\n      setUsuarios(response.data.data);\n    } catch (error) {\n      console.error('Error al cargar usuarios:', error);\n      setError('Error al cargar los usuarios');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchUsuarios();\n  }, []);\n  const handleOpenDialog = usuario => {\n    if (usuario) {\n      setEditingUsuario(usuario);\n      setFormData({\n        nombre: usuario.nombre,\n        apellido: usuario.apellido,\n        email: usuario.email,\n        password: '',\n        // No mostrar contraseña actual\n        rol: usuario.rol\n      });\n    } else {\n      setEditingUsuario(null);\n      setFormData({\n        nombre: '',\n        apellido: '',\n        email: '',\n        password: '',\n        rol: 'vendedor'\n      });\n    }\n    setOpenDialog(true);\n  };\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    setEditingUsuario(null);\n    setFormData({\n      nombre: '',\n      apellido: '',\n      email: '',\n      password: '',\n      rol: 'vendedor'\n    });\n  };\n  const handleOpenPasswordDialog = usuario => {\n    setSelectedUsuario(usuario);\n    setPasswordForm({\n      password_actual: '',\n      password_nuevo: '',\n      password_confirmar: ''\n    });\n    setOpenPasswordDialog(true);\n  };\n  const handleClosePasswordDialog = () => {\n    setOpenPasswordDialog(false);\n    setSelectedUsuario(null);\n    setPasswordForm({\n      password_actual: '',\n      password_nuevo: '',\n      password_confirmar: ''\n    });\n  };\n  const handleSubmit = async () => {\n    try {\n      if (editingUsuario) {\n        // Para edición, solo enviar password si se proporcionó uno nuevo\n        const updateData = {\n          ...formData\n        };\n        if (!updateData.password) {\n          const {\n            password,\n            ...updateDataWithoutPassword\n          } = updateData;\n          await axios.put(`/api/usuarios/${editingUsuario.id_usuario}`, updateDataWithoutPassword);\n        } else {\n          await axios.put(`/api/usuarios/${editingUsuario.id_usuario}`, updateData);\n        }\n      } else {\n        await axios.post('/api/usuarios', formData);\n      }\n      fetchUsuarios();\n      handleCloseDialog();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error al guardar usuario:', error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Error al guardar el usuario');\n    }\n  };\n  const handleChangePassword = async () => {\n    try {\n      if (passwordForm.password_nuevo !== passwordForm.password_confirmar) {\n        setError('Las contraseñas nuevas no coinciden');\n        return;\n      }\n      if (passwordForm.password_nuevo.length < 6) {\n        setError('La contraseña debe tener al menos 6 caracteres');\n        return;\n      }\n      await axios.put(`/api/usuarios/${selectedUsuario === null || selectedUsuario === void 0 ? void 0 : selectedUsuario.id_usuario}/password`, {\n        password_actual: passwordForm.password_actual,\n        password_nuevo: passwordForm.password_nuevo\n      });\n      handleClosePasswordDialog();\n      setError(null);\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Error al cambiar contraseña:', error);\n      setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Error al cambiar la contraseña');\n    }\n  };\n  const handleDelete = async id => {\n    if (window.confirm('¿Estás seguro de que quieres eliminar este usuario?')) {\n      try {\n        await axios.delete(`/api/usuarios/${id}`);\n        fetchUsuarios();\n      } catch (error) {\n        var _error$response3, _error$response3$data;\n        console.error('Error al eliminar usuario:', error);\n        setError(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || 'Error al eliminar el usuario');\n      }\n    }\n  };\n  const handleToggleEstado = async usuario => {\n    try {\n      const nuevoEstado = usuario.estado === 'activo' ? 'inactivo' : 'activo';\n      await axios.put(`/api/usuarios/${usuario.id_usuario}/estado`, {\n        estado: nuevoEstado\n      });\n      fetchUsuarios();\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      console.error('Error al cambiar estado:', error);\n      setError(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || 'Error al cambiar el estado');\n    }\n  };\n  const filteredUsuarios = usuarios.filter(usuario => usuario.nombre.toLowerCase().includes(searchTerm.toLowerCase()) || usuario.apellido.toLowerCase().includes(searchTerm.toLowerCase()) || usuario.email.toLowerCase().includes(searchTerm.toLowerCase()) || usuario.rol.toLowerCase().includes(searchTerm.toLowerCase()));\n  const paginatedUsuarios = filteredUsuarios.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\n  const getRolColor = rol => {\n    switch (rol) {\n      case 'admin':\n        return 'error';\n      case 'vendedor':\n        return 'primary';\n      case 'cajero':\n        return 'warning';\n      default:\n        return 'default';\n    }\n  };\n  const getRolLabel = rol => {\n    switch (rol) {\n      case 'admin':\n        return 'Administrador';\n      case 'vendedor':\n        return 'Vendedor';\n      case 'cajero':\n        return 'Cajero';\n      default:\n        return rol;\n    }\n  };\n  const formatDateTime = dateString => {\n    if (!dateString) return 'Nunca';\n    return new Date(dateString).toLocaleString('es-PE');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      minHeight: \"400px\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 60\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          component: \"h1\",\n          gutterBottom: true,\n          sx: {\n            color: '#1976d2',\n            fontWeight: 600\n          },\n          children: \"\\uD83D\\uDC65 Gesti\\xF3n de Usuarios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          color: \"text.secondary\",\n          children: \"Administra los usuarios del sistema y sus permisos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          gap: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          startIcon: /*#__PURE__*/_jsxDEV(RefreshIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 24\n          }, this),\n          onClick: fetchUsuarios,\n          children: \"Actualizar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.rol) === 'admin' && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 26\n          }, this),\n          onClick: () => handleOpenDialog(),\n          sx: {\n            bgcolor: '#1976d2'\n          },\n          children: \"Nuevo Usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      sx: {\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"primary\",\n              children: usuarios.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Total de Usuarios\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"success.main\",\n              children: usuarios.filter(u => u.estado === 'activo').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Usuarios Activos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"error.main\",\n              children: usuarios.filter(u => u.rol === 'admin').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Administradores\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"warning.main\",\n              children: usuarios.filter(u => u.estado === 'inactivo').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Usuarios Inactivos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      onClose: () => setError(null),\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mb: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              placeholder: \"Buscar por nombre, apellido, email o rol...\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              InputProps: {\n                startAdornment: /*#__PURE__*/_jsxDEV(SearchIcon, {\n                  sx: {\n                    mr: 1,\n                    color: 'text.secondary'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 35\n                }, this)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            textAlign: \"right\",\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: [filteredUsuarios.length, \" de \", usuarios.length, \" usuarios\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          sx: {\n            mb: 3\n          },\n          children: \"Lista de Usuarios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this), paginatedUsuarios.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            textAlign: 'center',\n            py: 4,\n            color: 'text.secondary'\n          },\n          children: [/*#__PURE__*/_jsxDEV(PersonIcon, {\n            sx: {\n              fontSize: 60,\n              mb: 2,\n              opacity: 0.3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"No hay usuarios registrados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: \"Comienza agregando el primer usuario del sistema.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n            component: Paper,\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                children: /*#__PURE__*/_jsxDEV(TableRow, {\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Nombre\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Rol\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Estado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"\\xDAltimo Acceso\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Fecha Creaci\\xF3n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"center\",\n                    children: \"Acciones\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 442,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                children: paginatedUsuarios.map(usuario => /*#__PURE__*/_jsxDEV(TableRow, {\n                  hover: true,\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      fontWeight: 600,\n                      children: [\"#\", usuario.id_usuario]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 449,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 448,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      fontWeight: 600,\n                      children: [usuario.nombre, \" \", usuario.apellido]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 454,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      children: usuario.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 459,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 458,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Chip, {\n                      label: getRolLabel(usuario.rol),\n                      color: getRolColor(usuario.rol),\n                      size: \"small\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 463,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Chip, {\n                      label: usuario.estado === 'activo' ? 'Activo' : 'Inactivo',\n                      color: usuario.estado === 'activo' ? 'success' : 'default',\n                      size: \"small\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 471,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 470,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      color: \"text.secondary\",\n                      children: usuario.ultimo_acceso ? formatDateTime(usuario.ultimo_acceso) : 'Nunca'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 478,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 477,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      color: \"text.secondary\",\n                      children: formatDateTime(usuario.fecha_creacion)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 483,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 482,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"center\",\n                    children: /*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        display: 'flex',\n                        gap: 1,\n                        justifyContent: 'center'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                        title: \"Ver detalles\",\n                        children: /*#__PURE__*/_jsxDEV(IconButton, {\n                          size: \"small\",\n                          color: \"primary\",\n                          children: /*#__PURE__*/_jsxDEV(VisibilityIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 491,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 490,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 489,\n                        columnNumber: 29\n                      }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.rol) === 'admin' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                          title: \"Editar\",\n                          children: /*#__PURE__*/_jsxDEV(IconButton, {\n                            size: \"small\",\n                            color: \"primary\",\n                            onClick: () => handleOpenDialog(usuario),\n                            children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 503,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 498,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 497,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                          title: \"Cambiar contrase\\xF1a\",\n                          children: /*#__PURE__*/_jsxDEV(IconButton, {\n                            size: \"small\",\n                            color: \"warning\",\n                            onClick: () => handleOpenPasswordDialog(usuario),\n                            children: /*#__PURE__*/_jsxDEV(LockIcon, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 513,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 508,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 507,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                          title: usuario.estado === 'activo' ? 'Desactivar' : 'Activar',\n                          children: /*#__PURE__*/_jsxDEV(IconButton, {\n                            size: \"small\",\n                            color: usuario.estado === 'activo' ? 'error' : 'success',\n                            onClick: () => handleToggleEstado(usuario),\n                            children: /*#__PURE__*/_jsxDEV(Switch, {\n                              checked: usuario.estado === 'activo',\n                              size: \"small\",\n                              onChange: () => handleToggleEstado(usuario)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 523,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 518,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 517,\n                          columnNumber: 33\n                        }, this), usuario.id_usuario !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id) && /*#__PURE__*/_jsxDEV(Tooltip, {\n                          title: \"Eliminar\",\n                          children: /*#__PURE__*/_jsxDEV(IconButton, {\n                            size: \"small\",\n                            color: \"error\",\n                            onClick: () => handleDelete(usuario.id_usuario),\n                            children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 538,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 533,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 532,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 488,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 25\n                  }, this)]\n                }, usuario.id_usuario, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n            rowsPerPageOptions: [5, 10, 25],\n            component: \"div\",\n            count: filteredUsuarios.length,\n            rowsPerPage: rowsPerPage,\n            page: page,\n            onPageChange: (_, newPage) => setPage(newPage),\n            onRowsPerPageChange: e => {\n              setRowsPerPage(parseInt(e.target.value, 10));\n              setPage(0);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openDialog,\n      onClose: handleCloseDialog,\n      maxWidth: \"md\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1\n          },\n          children: [editingUsuario ? /*#__PURE__*/_jsxDEV(EditIcon, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 31\n          }, this) : /*#__PURE__*/_jsxDEV(AddIcon, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 62\n          }, this), editingUsuario ? 'Editar Usuario' : 'Nuevo Usuario']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          sx: {\n            mt: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Nombre *\",\n              value: formData.nombre,\n              onChange: e => setFormData({\n                ...formData,\n                nombre: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Apellido *\",\n              value: formData.apellido,\n              onChange: e => setFormData({\n                ...formData,\n                apellido: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Email *\",\n              type: \"email\",\n              value: formData.email,\n              onChange: e => setFormData({\n                ...formData,\n                email: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Rol\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: formData.rol,\n                label: \"Rol\",\n                onChange: e => setFormData({\n                  ...formData,\n                  rol: e.target.value\n                }),\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"vendedor\",\n                  children: \"Vendedor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"cajero\",\n                  children: \"Cajero\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 616,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"admin\",\n                  children: \"Administrador\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 617,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: editingUsuario ? 'Nueva Contraseña (dejar en blanco para mantener la actual)' : 'Contraseña *',\n              type: \"password\",\n              value: formData.password,\n              onChange: e => setFormData({\n                ...formData,\n                password: e.target.value\n              }),\n              required: !editingUsuario,\n              helperText: editingUsuario ? 'Deja en blanco para mantener la contraseña actual' : 'Mínimo 6 caracteres'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCloseDialog,\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSubmit,\n          variant: \"contained\",\n          sx: {\n            bgcolor: '#1976d2'\n          },\n          children: editingUsuario ? 'Actualizar' : 'Crear'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openPasswordDialog,\n      onClose: handleClosePasswordDialog,\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(LockIcon, {\n            color: \"warning\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 13\n          }, this), \"Cambiar Contrase\\xF1a - \", selectedUsuario === null || selectedUsuario === void 0 ? void 0 : selectedUsuario.nombre, \" \", selectedUsuario === null || selectedUsuario === void 0 ? void 0 : selectedUsuario.apellido]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 644,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          sx: {\n            mt: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Contrase\\xF1a Actual *\",\n              type: \"password\",\n              value: passwordForm.password_actual,\n              onChange: e => setPasswordForm({\n                ...passwordForm,\n                password_actual: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Nueva Contrase\\xF1a *\",\n              type: \"password\",\n              value: passwordForm.password_nuevo,\n              onChange: e => setPasswordForm({\n                ...passwordForm,\n                password_nuevo: e.target.value\n              }),\n              required: true,\n              helperText: \"M\\xEDnimo 6 caracteres\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Confirmar Nueva Contrase\\xF1a *\",\n              type: \"password\",\n              value: passwordForm.password_confirmar,\n              onChange: e => setPasswordForm({\n                ...passwordForm,\n                password_confirmar: e.target.value\n              }),\n              required: true,\n              error: passwordForm.password_nuevo !== passwordForm.password_confirmar && passwordForm.password_confirmar !== '',\n              helperText: passwordForm.password_nuevo !== passwordForm.password_confirmar && passwordForm.password_confirmar !== '' ? 'Las contraseñas no coinciden' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 651,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClosePasswordDialog,\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleChangePassword,\n          variant: \"contained\",\n          color: \"warning\",\n          children: \"Cambiar Contrase\\xF1a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 687,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 643,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 295,\n    columnNumber: 5\n  }, this);\n};\n_s(Usuarios, \"zQ899YCr0BQLGFX0XkulPrYvMrg=\", false, function () {\n  return [useAuth];\n});\n_c = Usuarios;\nexport default Usuarios;\nvar _c;\n$RefreshReg$(_c, \"Usuarios\");","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Button","Card","CardContent","Grid","Chip","IconButton","Tooltip","Dialog","DialogTitle","DialogContent","DialogActions","TextField","FormControl","InputLabel","Select","MenuItem","Alert","CircularProgress","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TablePagination","Switch","Add","AddIcon","Edit","EditIcon","Delete","DeleteIcon","Person","PersonIcon","Refresh","RefreshIcon","Visibility","VisibilityIcon","Lock","LockIcon","Search","SearchIcon","useAuth","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Usuarios","_s","user","currentUser","usuarios","setUsuarios","loading","setLoading","error","setError","openDialog","setOpenDialog","openPasswordDialog","setOpenPasswordDialog","editingUsuario","setEditingUsuario","selectedUsuario","setSelectedUsuario","page","setPage","rowsPerPage","setRowsPerPage","searchTerm","setSearchTerm","formData","setFormData","nombre","apellido","email","password","rol","passwordForm","setPasswordForm","password_actual","password_nuevo","password_confirmar","fetchUsuarios","response","get","data","console","handleOpenDialog","usuario","handleCloseDialog","handleOpenPasswordDialog","handleClosePasswordDialog","handleSubmit","updateData","updateDataWithoutPassword","put","id_usuario","post","_error$response","_error$response$data","handleChangePassword","length","_error$response2","_error$response2$data","handleDelete","id","window","confirm","delete","_error$response3","_error$response3$data","handleToggleEstado","nuevoEstado","estado","_error$response4","_error$response4$data","filteredUsuarios","filter","toLowerCase","includes","paginatedUsuarios","slice","getRolColor","getRolLabel","formatDateTime","dateString","Date","toLocaleString","display","justifyContent","alignItems","minHeight","children","size","fileName","_jsxFileName","lineNumber","columnNumber","sx","mb","variant","component","gutterBottom","color","fontWeight","gap","startIcon","onClick","bgcolor","container","spacing","item","xs","sm","md","textAlign","u","severity","onClose","fullWidth","placeholder","value","onChange","e","target","InputProps","startAdornment","mr","py","fontSize","opacity","align","map","hover","label","ultimo_acceso","fecha_creacion","title","checked","rowsPerPageOptions","count","onPageChange","_","newPage","onRowsPerPageChange","parseInt","open","maxWidth","mt","required","type","helperText","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Documents/GitHub/Reingenieria/pos_parqueamiento_NEW/client/src/pages/Usuarios/Usuarios.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  Chip,\r\n  IconButton,\r\n  Tooltip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Alert,\r\n  CircularProgress,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  TablePagination,\r\n  Switch\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Person as PersonIcon,\r\n  Refresh as RefreshIcon,\r\n  Visibility as VisibilityIcon,\r\n  Lock as LockIcon,\r\n  Search as SearchIcon\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport axios from 'axios';\r\n\r\ninterface Usuario {\r\n  id_usuario: number;\r\n  nombre: string;\r\n  apellido: string;\r\n  email: string;\r\n  rol: 'admin' | 'vendedor' | 'cajero';\r\n  estado: 'activo' | 'inactivo';\r\n  fecha_creacion: string;\r\n  ultimo_acceso?: string;\r\n}\r\n\r\ninterface UsuarioForm {\r\n  nombre: string;\r\n  apellido: string;\r\n  email: string;\r\n  password: string;\r\n  rol: 'admin' | 'vendedor' | 'cajero';\r\n}\r\n\r\ninterface PasswordForm {\r\n  password_actual: string;\r\n  password_nuevo: string;\r\n  password_confirmar: string;\r\n}\r\n\r\nconst Usuarios: React.FC = () => {\r\n  const { user: currentUser } = useAuth();\r\n  const [usuarios, setUsuarios] = useState<Usuario[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [openPasswordDialog, setOpenPasswordDialog] = useState(false);\r\n  const [editingUsuario, setEditingUsuario] = useState<Usuario | null>(null);\r\n  const [selectedUsuario, setSelectedUsuario] = useState<Usuario | null>(null);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const [formData, setFormData] = useState<UsuarioForm>({\r\n    nombre: '',\r\n    apellido: '',\r\n    email: '',\r\n    password: '',\r\n    rol: 'vendedor'\r\n  });\r\n\r\n  const [passwordForm, setPasswordForm] = useState<PasswordForm>({\r\n    password_actual: '',\r\n    password_nuevo: '',\r\n    password_confirmar: ''\r\n  });\r\n\r\n  const fetchUsuarios = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const response = await axios.get('/api/usuarios');\r\n      setUsuarios(response.data.data);\r\n    } catch (error: any) {\r\n      console.error('Error al cargar usuarios:', error);\r\n      setError('Error al cargar los usuarios');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsuarios();\r\n  }, []);\r\n\r\n  const handleOpenDialog = (usuario?: Usuario) => {\r\n    if (usuario) {\r\n      setEditingUsuario(usuario);\r\n      setFormData({\r\n        nombre: usuario.nombre,\r\n        apellido: usuario.apellido,\r\n        email: usuario.email,\r\n        password: '', // No mostrar contraseña actual\r\n        rol: usuario.rol\r\n      });\r\n    } else {\r\n      setEditingUsuario(null);\r\n      setFormData({\r\n        nombre: '',\r\n        apellido: '',\r\n        email: '',\r\n        password: '',\r\n        rol: 'vendedor'\r\n      });\r\n    }\r\n    setOpenDialog(true);\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setOpenDialog(false);\r\n    setEditingUsuario(null);\r\n    setFormData({\r\n      nombre: '',\r\n      apellido: '',\r\n      email: '',\r\n      password: '',\r\n      rol: 'vendedor'\r\n    });\r\n  };\r\n\r\n  const handleOpenPasswordDialog = (usuario: Usuario) => {\r\n    setSelectedUsuario(usuario);\r\n    setPasswordForm({\r\n      password_actual: '',\r\n      password_nuevo: '',\r\n      password_confirmar: ''\r\n    });\r\n    setOpenPasswordDialog(true);\r\n  };\r\n\r\n  const handleClosePasswordDialog = () => {\r\n    setOpenPasswordDialog(false);\r\n    setSelectedUsuario(null);\r\n    setPasswordForm({\r\n      password_actual: '',\r\n      password_nuevo: '',\r\n      password_confirmar: ''\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      if (editingUsuario) {\r\n        // Para edición, solo enviar password si se proporcionó uno nuevo\r\n        const updateData = { ...formData };\r\n        if (!updateData.password) {\r\n          const { password, ...updateDataWithoutPassword } = updateData;\r\n          await axios.put(`/api/usuarios/${editingUsuario.id_usuario}`, updateDataWithoutPassword);\r\n        } else {\r\n          await axios.put(`/api/usuarios/${editingUsuario.id_usuario}`, updateData);\r\n        }\r\n      } else {\r\n        await axios.post('/api/usuarios', formData);\r\n      }\r\n      \r\n      fetchUsuarios();\r\n      handleCloseDialog();\r\n    } catch (error: any) {\r\n      console.error('Error al guardar usuario:', error);\r\n      setError(error.response?.data?.error || 'Error al guardar el usuario');\r\n    }\r\n  };\r\n\r\n  const handleChangePassword = async () => {\r\n    try {\r\n      if (passwordForm.password_nuevo !== passwordForm.password_confirmar) {\r\n        setError('Las contraseñas nuevas no coinciden');\r\n        return;\r\n      }\r\n\r\n      if (passwordForm.password_nuevo.length < 6) {\r\n        setError('La contraseña debe tener al menos 6 caracteres');\r\n        return;\r\n      }\r\n\r\n      await axios.put(`/api/usuarios/${selectedUsuario?.id_usuario}/password`, {\r\n        password_actual: passwordForm.password_actual,\r\n        password_nuevo: passwordForm.password_nuevo\r\n      });\r\n\r\n      handleClosePasswordDialog();\r\n      setError(null);\r\n    } catch (error: any) {\r\n      console.error('Error al cambiar contraseña:', error);\r\n      setError(error.response?.data?.error || 'Error al cambiar la contraseña');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (window.confirm('¿Estás seguro de que quieres eliminar este usuario?')) {\r\n      try {\r\n        await axios.delete(`/api/usuarios/${id}`);\r\n        fetchUsuarios();\r\n      } catch (error: any) {\r\n        console.error('Error al eliminar usuario:', error);\r\n        setError(error.response?.data?.error || 'Error al eliminar el usuario');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleToggleEstado = async (usuario: Usuario) => {\r\n    try {\r\n      const nuevoEstado = usuario.estado === 'activo' ? 'inactivo' : 'activo';\r\n      await axios.put(`/api/usuarios/${usuario.id_usuario}/estado`, { estado: nuevoEstado });\r\n      fetchUsuarios();\r\n    } catch (error: any) {\r\n      console.error('Error al cambiar estado:', error);\r\n      setError(error.response?.data?.error || 'Error al cambiar el estado');\r\n    }\r\n  };\r\n\r\n  const filteredUsuarios = usuarios.filter(usuario =>\r\n    usuario.nombre.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    usuario.apellido.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    usuario.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    usuario.rol.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const paginatedUsuarios = filteredUsuarios.slice(\r\n    page * rowsPerPage,\r\n    page * rowsPerPage + rowsPerPage\r\n  );\r\n\r\n  const getRolColor = (rol: string) => {\r\n    switch (rol) {\r\n      case 'admin':\r\n        return 'error';\r\n      case 'vendedor':\r\n        return 'primary';\r\n      case 'cajero':\r\n        return 'warning';\r\n      default:\r\n        return 'default';\r\n    }\r\n  };\r\n\r\n  const getRolLabel = (rol: string) => {\r\n    switch (rol) {\r\n      case 'admin':\r\n        return 'Administrador';\r\n      case 'vendedor':\r\n        return 'Vendedor';\r\n      case 'cajero':\r\n        return 'Cajero';\r\n      default:\r\n        return rol;\r\n    }\r\n  };\r\n\r\n  const formatDateTime = (dateString: string) => {\r\n    if (!dateString) return 'Nunca';\r\n    return new Date(dateString).toLocaleString('es-PE');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n        <CircularProgress size={60} />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      {/* Header */}\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 4 }}>\r\n        <Box>\r\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ color: '#1976d2', fontWeight: 600 }}>\r\n            👥 Gestión de Usuarios\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"text.secondary\">\r\n            Administra los usuarios del sistema y sus permisos\r\n          </Typography>\r\n        </Box>\r\n        \r\n        <Box sx={{ display: 'flex', gap: 2 }}>\r\n          <Button\r\n            variant=\"outlined\"\r\n            startIcon={<RefreshIcon />}\r\n            onClick={fetchUsuarios}\r\n          >\r\n            Actualizar\r\n          </Button>\r\n          \r\n          {currentUser?.rol === 'admin' && (\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<AddIcon />}\r\n              onClick={() => handleOpenDialog()}\r\n              sx={{ bgcolor: '#1976d2' }}\r\n            >\r\n              Nuevo Usuario\r\n            </Button>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* Estadísticas rápidas */}\r\n      <Grid container spacing={3} sx={{ mb: 4 }}>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"primary\">\r\n                {usuarios.length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Total de Usuarios\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"success.main\">\r\n                {usuarios.filter(u => u.estado === 'activo').length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Usuarios Activos\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"error.main\">\r\n                {usuarios.filter(u => u.rol === 'admin').length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Administradores\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={3}>\r\n          <Card>\r\n            <CardContent sx={{ textAlign: 'center' }}>\r\n              <Typography variant=\"h4\" color=\"warning.main\">\r\n                {usuarios.filter(u => u.estado === 'inactivo').length}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Usuarios Inactivos\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Mensaje de error */}\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Filtros y búsqueda */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Grid container spacing={2} alignItems=\"center\">\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                placeholder=\"Buscar por nombre, apellido, email o rol...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                InputProps={{\r\n                  startAdornment: <SearchIcon sx={{ mr: 1, color: 'text.secondary' }} />\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6} textAlign=\"right\">\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                {filteredUsuarios.length} de {usuarios.length} usuarios\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Tabla de usuarios */}\r\n      <Card>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" gutterBottom sx={{ mb: 3 }}>\r\n            Lista de Usuarios\r\n          </Typography>\r\n\r\n          {paginatedUsuarios.length === 0 ? (\r\n            <Box sx={{ textAlign: 'center', py: 4, color: 'text.secondary' }}>\r\n              <PersonIcon sx={{ fontSize: 60, mb: 2, opacity: 0.3 }} />\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                No hay usuarios registrados\r\n              </Typography>\r\n              <Typography variant=\"body2\">\r\n                Comienza agregando el primer usuario del sistema.\r\n              </Typography>\r\n            </Box>\r\n          ) : (\r\n            <>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>ID</TableCell>\r\n                      <TableCell>Nombre</TableCell>\r\n                      <TableCell>Email</TableCell>\r\n                      <TableCell>Rol</TableCell>\r\n                      <TableCell>Estado</TableCell>\r\n                      <TableCell>Último Acceso</TableCell>\r\n                      <TableCell>Fecha Creación</TableCell>\r\n                      <TableCell align=\"center\">Acciones</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {paginatedUsuarios.map((usuario) => (\r\n                      <TableRow key={usuario.id_usuario} hover>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\" fontWeight={600}>\r\n                            #{usuario.id_usuario}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\" fontWeight={600}>\r\n                            {usuario.nombre} {usuario.apellido}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\">\r\n                            {usuario.email}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Chip\r\n                            label={getRolLabel(usuario.rol)}\r\n                            color={getRolColor(usuario.rol) as any}\r\n                            size=\"small\"\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Chip\r\n                            label={usuario.estado === 'activo' ? 'Activo' : 'Inactivo'}\r\n                            color={usuario.estado === 'activo' ? 'success' : 'default'}\r\n                            size=\"small\"\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            {usuario.ultimo_acceso ? formatDateTime(usuario.ultimo_acceso) : 'Nunca'}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            {formatDateTime(usuario.fecha_creacion)}\r\n                          </Typography>\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          <Box sx={{ display: 'flex', gap: 1, justifyContent: 'center' }}>\r\n                            <Tooltip title=\"Ver detalles\">\r\n                              <IconButton size=\"small\" color=\"primary\">\r\n                                <VisibilityIcon />\r\n                              </IconButton>\r\n                            </Tooltip>\r\n                            \r\n                            {currentUser?.rol === 'admin' && (\r\n                              <>\r\n                                <Tooltip title=\"Editar\">\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    color=\"primary\"\r\n                                    onClick={() => handleOpenDialog(usuario)}\r\n                                  >\r\n                                    <EditIcon />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                                \r\n                                <Tooltip title=\"Cambiar contraseña\">\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    color=\"warning\"\r\n                                    onClick={() => handleOpenPasswordDialog(usuario)}\r\n                                  >\r\n                                    <LockIcon />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                                \r\n                                <Tooltip title={usuario.estado === 'activo' ? 'Desactivar' : 'Activar'}>\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    color={usuario.estado === 'activo' ? 'error' : 'success'}\r\n                                    onClick={() => handleToggleEstado(usuario)}\r\n                                  >\r\n                                    <Switch\r\n                                      checked={usuario.estado === 'activo'}\r\n                                      size=\"small\"\r\n                                      onChange={() => handleToggleEstado(usuario)}\r\n                                    />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                                \r\n                                {usuario.id_usuario !== currentUser?.id && (\r\n                                  <Tooltip title=\"Eliminar\">\r\n                                    <IconButton\r\n                                      size=\"small\"\r\n                                      color=\"error\"\r\n                                      onClick={() => handleDelete(usuario.id_usuario)}\r\n                                    >\r\n                                      <DeleteIcon />\r\n                                    </IconButton>\r\n                                  </Tooltip>\r\n                                )}\r\n                              </>\r\n                            )}\r\n                          </Box>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n              <TablePagination\r\n                rowsPerPageOptions={[5, 10, 25]}\r\n                component=\"div\"\r\n                count={filteredUsuarios.length}\r\n                rowsPerPage={rowsPerPage}\r\n                page={page}\r\n                onPageChange={(_, newPage) => setPage(newPage)}\r\n                onRowsPerPageChange={(e) => {\r\n                  setRowsPerPage(parseInt(e.target.value, 10));\r\n                  setPage(0);\r\n                }}\r\n              />\r\n            </>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Dialog para crear/editar usuario */}\r\n      <Dialog open={openDialog} onClose={handleCloseDialog} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n            {editingUsuario ? <EditIcon color=\"primary\" /> : <AddIcon color=\"primary\" />}\r\n            {editingUsuario ? 'Editar Usuario' : 'Nuevo Usuario'}\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Grid container spacing={2} sx={{ mt: 1 }}>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Nombre *\"\r\n                value={formData.nombre}\r\n                onChange={(e) => setFormData({ ...formData, nombre: e.target.value })}\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Apellido *\"\r\n                value={formData.apellido}\r\n                onChange={(e) => setFormData({ ...formData, apellido: e.target.value })}\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Email *\"\r\n                type=\"email\"\r\n                value={formData.email}\r\n                onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl fullWidth required>\r\n                <InputLabel>Rol</InputLabel>\r\n                <Select\r\n                  value={formData.rol}\r\n                  label=\"Rol\"\r\n                  onChange={(e) => setFormData({ ...formData, rol: e.target.value as any })}\r\n                >\r\n                  <MenuItem value=\"vendedor\">Vendedor</MenuItem>\r\n                  <MenuItem value=\"cajero\">Cajero</MenuItem>\r\n                  <MenuItem value=\"admin\">Administrador</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label={editingUsuario ? 'Nueva Contraseña (dejar en blanco para mantener la actual)' : 'Contraseña *'}\r\n                type=\"password\"\r\n                value={formData.password}\r\n                onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n                required={!editingUsuario}\r\n                helperText={editingUsuario ? 'Deja en blanco para mantener la contraseña actual' : 'Mínimo 6 caracteres'}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCloseDialog}>Cancelar</Button>\r\n          <Button onClick={handleSubmit} variant=\"contained\" sx={{ bgcolor: '#1976d2' }}>\r\n            {editingUsuario ? 'Actualizar' : 'Crear'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dialog para cambiar contraseña */}\r\n      <Dialog open={openPasswordDialog} onClose={handleClosePasswordDialog} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n            <LockIcon color=\"warning\" />\r\n            Cambiar Contraseña - {selectedUsuario?.nombre} {selectedUsuario?.apellido}\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Grid container spacing={2} sx={{ mt: 1 }}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Contraseña Actual *\"\r\n                type=\"password\"\r\n                value={passwordForm.password_actual}\r\n                onChange={(e) => setPasswordForm({ ...passwordForm, password_actual: e.target.value })}\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Nueva Contraseña *\"\r\n                type=\"password\"\r\n                value={passwordForm.password_nuevo}\r\n                onChange={(e) => setPasswordForm({ ...passwordForm, password_nuevo: e.target.value })}\r\n                required\r\n                helperText=\"Mínimo 6 caracteres\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Confirmar Nueva Contraseña *\"\r\n                type=\"password\"\r\n                value={passwordForm.password_confirmar}\r\n                onChange={(e) => setPasswordForm({ ...passwordForm, password_confirmar: e.target.value })}\r\n                required\r\n                error={passwordForm.password_nuevo !== passwordForm.password_confirmar && passwordForm.password_confirmar !== ''}\r\n                helperText={passwordForm.password_nuevo !== passwordForm.password_confirmar && passwordForm.password_confirmar !== '' ? 'Las contraseñas no coinciden' : ''}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClosePasswordDialog}>Cancelar</Button>\r\n          <Button onClick={handleChangePassword} variant=\"contained\" color=\"warning\">\r\n            Cambiar Contraseña\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Usuarios;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}